(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5019b404","chunk-2d213000","chunk-2d0d0083"],{"0000":function(t,e,n){"use strict";t.exports=f;var r=n("92ba"),i=n("24ad").compareCells;function a(t,e,n){this.vertices=t,this.adjacent=e,this.boundary=n,this.lastVisited=-1}function o(t,e,n){this.vertices=t,this.cell=e,this.index=n}function s(t,e){return i(t.vertices,e.vertices)}function l(t){for(var e=["function orient(){var tuple=this.tuple;return test("],n=0;n<=t;++n)n>0&&e.push(","),e.push("tuple[",n,"]");e.push(")}return orient");var i=new Function("test",e.join("")),a=r[t+1];return a||(a=r),i(a)}a.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var u=[];function c(t,e,n){this.dimension=t,this.vertices=e,this.simplices=n,this.interior=n.filter((function(t){return!t.boundary})),this.tuple=new Array(t+1);for(var r=0;r<=t;++r)this.tuple[r]=this.vertices[r];var i=u[t];i||(i=u[t]=l(t)),this.orient=i}var h=c.prototype;function f(t,e){var n=t.length;if(0===n)throw new Error("Must have at least d+1 points");var i=t[0].length;if(n<=i)throw new Error("Must input at least d+1 points");var o=t.slice(0,i+1),s=r.apply(void 0,o);if(0===s)throw new Error("Input not in general position");for(var l=new Array(i+1),u=0;u<=i;++u)l[u]=u;s<0&&(l[0]=1,l[1]=0);var h=new a(l,new Array(i+1),!1),f=h.adjacent,d=new Array(i+2);for(u=0;u<=i;++u){for(var v=l.slice(),p=0;p<=i;++p)p===u&&(v[p]=-1);var m=v[0];v[0]=v[1],v[1]=m;var g=new a(v,new Array(i+1),!0);f[u]=g,d[u]=g}d[i+1]=h;for(u=0;u<=i;++u){v=f[u].vertices;var b=f[u].adjacent;for(p=0;p<=i;++p){var y=v[p];if(y<0)b[p]=h;else for(var w=0;w<=i;++w)f[w].vertices.indexOf(y)<0&&(b[p]=f[w])}}var x=new c(i,o,d),S=!!e;for(u=i+1;u<n;++u)x.insert(t[u],S);return x.boundary()}h.handleBoundaryDegeneracy=function(t,e){var n=this.dimension,r=this.vertices.length-1,i=this.tuple,a=this.vertices,o=[t];t.lastVisited=-r;while(o.length>0){t=o.pop();t.vertices;for(var s=t.adjacent,l=0;l<=n;++l){var u=s[l];if(u.boundary&&!(u.lastVisited<=-r)){for(var c=u.vertices,h=0;h<=n;++h){var f=c[h];i[h]=f<0?e:a[f]}var d=this.orient();if(d>0)return u;u.lastVisited=-r,0===d&&o.push(u)}}}return null},h.walk=function(t,e){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,a=this.tuple,o=e?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[o];t:while(!s.boundary){for(var l=s.vertices,u=s.adjacent,c=0;c<=r;++c)a[c]=i[l[c]];s.lastVisited=n;for(c=0;c<=r;++c){var h=u[c];if(!(h.lastVisited>=n)){var f=a[c];a[c]=t;var d=this.orient();if(a[c]=f,d<0){s=h;continue t}h.boundary?h.lastVisited=-n:h.lastVisited=n}}return}return s},h.addPeaks=function(t,e){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,l=this.tuple,u=this.interior,c=this.simplices,h=[e];e.lastVisited=n,e.vertices[e.vertices.indexOf(-1)]=n,e.boundary=!1,u.push(e);var f=[];while(h.length>0){e=h.pop();var d=e.vertices,v=e.adjacent,p=d.indexOf(n);if(!(p<0))for(var m=0;m<=r;++m)if(m!==p){var g=v[m];if(g.boundary&&!(g.lastVisited>=n)){var b=g.vertices;if(g.lastVisited!==-n){for(var y=0,w=0;w<=r;++w)b[w]<0?(y=w,l[w]=t):l[w]=i[b[w]];var x=this.orient();if(x>0){b[y]=n,g.boundary=!1,u.push(g),h.push(g),g.lastVisited=n;continue}g.lastVisited=-n}var S=g.adjacent,k=d.slice(),C=v.slice(),_=new a(k,C,!0);c.push(_);var M=S.indexOf(e);if(!(M<0)){S[M]=_,C[p]=g,k[m]=-1,C[m]=e,v[m]=_,_.flip();for(w=0;w<=r;++w){var O=k[w];if(!(O<0||O===n)){for(var T=new Array(r-1),D=0,B=0;B<=r;++B){var I=k[B];I<0||B===w||(T[D++]=I)}f.push(new o(T,_,w))}}}}}}f.sort(s);for(m=0;m+1<f.length;m+=2){var L=f[m],A=f[m+1],j=L.index,N=A.index;j<0||N<0||(L.cell.adjacent[L.index]=A.cell,A.cell.adjacent[A.index]=L.cell)}},h.insert=function(t,e){var n=this.vertices;n.push(t);var r=this.walk(t,e);if(r){for(var i=this.dimension,a=this.tuple,o=0;o<=i;++o){var s=r.vertices[o];a[o]=s<0?t:n[s]}var l=this.orient(a);l<0||(0!==l||(r=this.handleBoundaryDegeneracy(r,t),r))&&this.addPeaks(t,r)}},h.boundary=function(){for(var t=this.dimension,e=[],n=this.simplices,r=n.length,i=0;i<r;++i){var a=n[i];if(a.boundary){for(var o=new Array(t),s=a.vertices,l=0,u=0,c=0;c<=t;++c)s[c]>=0?o[l++]=s[c]:u=1&c;if(u===(1&t)){var h=o[0];o[0]=o[1],o[1]=h}e.push(o)}}return e}},"030d":function(t,e,n){var r=n("5b63");t.exports=function(t,e){return Math.sqrt(r(t,e))}},"0dd1":function(t,e,n){"use strict";var r=n("c01c"),i=n("d1bd");function a(t,e){var n=t.length;if(1===n){var a=r(t[0],e);return a[0]?a:[a[1]]}var o=new Array(2*n),s=[.1,.1],l=[.1,.1],u=0;r(t[0],e,s),s[0]&&(o[u++]=s[0]);for(var c=1;c<n;++c){r(t[c],e,l);var h=s[1];i(h,l[0],s),s[0]&&(o[u++]=s[0]);var f=l[1],d=s[1],v=f+d,p=v-f,m=d-p;s[1]=v,m&&(o[u++]=m)}return s[1]&&(o[u++]=s[1]),0===u&&(o[u++]=0),o.length=u,o}t.exports=a},"1a3f":function(t,e,n){"use strict";var r=n("1f25"),i=n("8ff7"),a=n("ca39");function o(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var n=t[0].length;return 0===n?[]:1===n?r(t):2===n?i(t):a(t,n)}t.exports=o},"1f25":function(t,e,n){"use strict";function r(t){for(var e=0,n=0,r=1;r<t.length;++r)t[r][0]<t[e][0]&&(e=r),t[r][0]>t[n][0]&&(n=r);return e<n?[[e],[n]]:e>n?[[n],[e]]:[[e]]}t.exports=r},"24ad":function(t,e,n){"use strict";var r=n("a48a"),i=n("dca5");function a(t){for(var e=0,n=Math.max,r=0,i=t.length;r<i;++r)e=n(e,t[r].length);return e-1}function o(t){for(var e=-1,n=Math.max,r=0,i=t.length;r<i;++r)for(var a=t[r],o=0,s=a.length;o<s;++o)e=n(e,a[o]);return e+1}function s(t){for(var e=new Array(t.length),n=0,r=t.length;n<r;++n)e[n]=t[n].slice(0);return e}function l(t,e){var n=t.length,r=t.length-e.length,i=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return t[0]-e[0];case 2:var a=t[0]+t[1]-e[0]-e[1];return a||i(t[0],t[1])-i(e[0],e[1]);case 3:var o=t[0]+t[1],s=e[0]+e[1];if(a=o+t[2]-(s+e[2]),a)return a;var l=i(t[0],t[1]),u=i(e[0],e[1]);a=i(l,t[2])-i(u,e[2]);return a||i(l+t[2],o)-i(u+e[2],s);default:var c=t.slice(0);c.sort();var h=e.slice(0);h.sort();for(var f=0;f<n;++f)if(r=c[f]-h[f],r)return r;return 0}}function u(t,e){return l(t[0],e[0])}function c(t,e){if(e){for(var n=t.length,r=new Array(n),i=0;i<n;++i)r[i]=[t[i],e[i]];r.sort(u);for(i=0;i<n;++i)t[i]=r[i][0],e[i]=r[i][1];return t}return t.sort(l),t}function h(t){if(0===t.length)return[];for(var e=1,n=t.length,r=1;r<n;++r){var i=t[r];if(l(i,t[r-1])){if(r===e){e++;continue}t[e++]=i}}return t.length=e,t}function f(t,e){var n=0,r=t.length-1,i=-1;while(n<=r){var a=n+r>>1,o=l(t[a],e);o<=0?(0===o&&(i=a),n=a+1):o>0&&(r=a-1)}return i}function d(t,e){for(var n=new Array(t.length),i=0,a=n.length;i<a;++i)n[i]=[];for(var o=[],s=(i=0,e.length);i<s;++i)for(var u=e[i],c=u.length,h=1,d=1<<c;h<d;++h){o.length=r.popCount(h);for(var v=0,p=0;p<c;++p)h&1<<p&&(o[v++]=u[p]);var m=f(t,o);if(!(m<0))while(1)if(n[m++].push(i),m>=t.length||0!==l(t[m],o))break}return n}function v(t,e){if(!e)return d(h(m(t,0)),t,0);for(var n=new Array(e),r=0;r<e;++r)n[r]=[];r=0;for(var i=t.length;r<i;++r)for(var a=t[r],o=0,s=a.length;o<s;++o)n[a[o]].push(r);return n}function p(t){for(var e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],a=0|i.length,o=1,s=1<<a;o<s;++o){for(var l=[],u=0;u<a;++u)o>>>u&1&&l.push(i[u]);e.push(l)}return c(e)}function m(t,e){if(e<0)return[];for(var n=[],i=(1<<e+1)-1,a=0;a<t.length;++a)for(var o=t[a],s=i;s<1<<o.length;s=r.nextCombination(s)){for(var l=new Array(e+1),u=0,h=0;h<o.length;++h)s&1<<h&&(l[u++]=o[h]);n.push(l)}return c(n)}function g(t){for(var e=[],n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length;a<o;++a){for(var s=new Array(i.length-1),l=0,u=0;l<o;++l)l!==a&&(s[u++]=i[l]);e.push(s)}return c(e)}function b(t,e){for(var n=new i(e),r=0;r<t.length;++r)for(var a=t[r],o=0;o<a.length;++o)for(var s=o+1;s<a.length;++s)n.link(a[o],a[s]);var l=[],u=n.ranks;for(r=0;r<u.length;++r)u[r]=-1;for(r=0;r<t.length;++r){var c=n.find(t[r][0]);u[c]<0?(u[c]=l.length,l.push([t[r].slice(0)])):l[u[c]].push(t[r].slice(0))}return l}function y(t){for(var e=h(c(m(t,0))),n=new i(e.length),r=0;r<t.length;++r)for(var a=t[r],o=0;o<a.length;++o)for(var s=f(e,[a[o]]),l=o+1;l<a.length;++l)n.link(s,f(e,[a[l]]));var u=[],d=n.ranks;for(r=0;r<d.length;++r)d[r]=-1;for(r=0;r<t.length;++r){var v=n.find(f(e,[t[r][0]]));d[v]<0?(d[v]=u.length,u.push([t[r].slice(0)])):u[d[v]].push(t[r].slice(0))}return u}function w(t,e){return e?b(t,e):y(t)}e.dimension=a,e.countVertices=o,e.cloneCells=s,e.compareCells=l,e.normalize=c,e.unique=h,e.findCell=f,e.incidence=d,e.dual=v,e.explode=p,e.skeleton=m,e.boundary=g,e.connectedComponents=w},4418:function(t,e,n){"use strict";n("d87c")},"463b":function(t,e,n){"use strict";n("cd00")},"5b63":function(t,e){t.exports=function(t,e){var n,r=0;for(n=0;n<t.length;n++)r+=Math.pow(t[n]-e[n],2);return r}},6062:function(t,e,n){"use strict";var r=n("6d61"),i=n("6566");r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},6566:function(t,e,n){"use strict";var r=n("9bf2").f,i=n("7c73"),a=n("e2cc"),o=n("0366"),s=n("19aa"),l=n("2266"),u=n("7dd0"),c=n("2626"),h=n("83ab"),f=n("f183").fastKey,d=n("69f3"),v=d.set,p=d.getterFor;t.exports={getConstructor:function(t,e,n,u){var c=t((function(t,r){s(t,d),v(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),h||(t.size=0),void 0!=r&&l(r,t[u],{that:t,AS_ENTRIES:n})})),d=c.prototype,m=p(e),g=function(t,e,n){var r,i,a=m(t),o=b(t,e);return o?o.value=n:(a.last=o={index:i=f(e,!0),key:e,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),h?a.size++:t.size++,"F"!==i&&(a.index[i]=o)),t},b=function(t,e){var n,r=m(t),i=f(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return a(d,{clear:function(){var t=this,e=m(t),n=e.index,r=e.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;e.first=e.last=void 0,h?e.size=0:t.size=0},delete:function(t){var e=this,n=m(e),r=b(e,t);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),h?n.size--:e.size--}return!!r},forEach:function(t){var e,n=m(this),r=o(t,arguments.length>1?arguments[1]:void 0);while(e=e?e.next:n.first){r(e.value,e.key,this);while(e&&e.removed)e=e.previous}},has:function(t){return!!b(this,t)}}),a(d,n?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),h&&r(d,"size",{get:function(){return m(this).size}}),c},setStrong:function(t,e,n){var r=e+" Iterator",i=p(e),a=p(r);u(t,e,(function(t,e){v(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){var t=a(this),e=t.kind,n=t.last;while(n&&n.removed)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),c(e)}}},"65f4":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-dialog",{key:t.id,attrs:{"max-width":"1000px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-toolbar",{attrs:{dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{centered:""},model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}},[n("v-tabs-slider",{attrs:{color:"brown"}}),n("v-tab",{key:"General",attrs:{href:"#tab-General"},on:{click:function(e){t.childshow=!1,t.atDefault=!0}}},[t._v("General")]),t._l(t.tabs,(function(e){return n("v-tab",{key:e,attrs:{href:"#tab-"+e},on:{click:function(e){t.atDefault=!1}}},[t._v(t._s(e))])}))],2)]},proxy:!0}])},[n("v-toolbar-title",[t._v(t._s(t.name)+" "+t._s(t.volt)+" "+t._s(t.type))])],1),n("v-tabs-items",{model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}},[n("v-tab-item",{key:"General",attrs:{value:"tab-General"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v(" Data ")]),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.display,"hide-default-footer":"",lazy:""},scopedSlots:t._u([{key:"items",fn:function(e){return t._l(e.item,(function(e){return n("td",{key:e.text,staticClass:"text-xs-right"},[t._v(" "+t._s(e)+" ")])}))}}])})],1),n("v-card")],1),t._l(t.tabs,(function(e,r){return n("v-tab-item",{key:e,attrs:{value:"tab-"+e}},[t.show?n("popchild",{attrs:{name:e,detail:t.children[r],subname:t.name,show:t.currentItem,lazy:""}}):t._e()],1)}))],2)],1)],1)},i=[],a=n("f3f3"),o=(n("d81d"),n("d3b7"),n("25f0"),n("b64b"),n("fb6a"),n("3ca3"),n("ddb0"),n("2f62")),s={data:function(){var t=this.$store.state.fieldstore.Substation["Field"].map((function(t){return{text:t,value:t}}));return{dropdown:[],currentItem:"tab-General",display:[],atDefault:!0,childshow:!1,headers:t}},props:{visible:{type:Boolean,default:!1},type:{type:String},id:{type:String},name:{type:String},volt:{type:String},children:{}},computed:Object(a["a"])(Object(a["a"])({},Object(o["b"])({dataflag:"rawData"})),{},{show:{get:function(){return this.visible},set:function(t){t||(this.display=[],this.childshow=!1,this.$emit("close"))}},tabs:function(){var t=[];for(var e in this.children)t.push("Bus "+this.children[e]["Int.Bus Number"].toString());return t}}),methods:{getData:function(){var t,e,n=this.$store.getters.rawData,r=0,i=n.Data;for(var a in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[a]["Field"].length,e=Object.keys(this.$store.state.areadetail.content[a]),a==this.type){r+=t*e.indexOf(this.id);break}r+=t*e.length}var o=i.slice(r,r+t),s={};for(var l in o)s[this.$store.state.fieldstore[this.type]["Field"][l]]=o[l];this.display=[s]}},watch:{dataflag:function(){this.show&&this.atDefault&&this.getData()}},components:{popchild:function(){return n.e("chunk-3b5e7677").then(n.bind(null,"252c"))}}},l=s,u=n("2877"),c=Object(u["a"])(l,r,i,!1,null,null,null);e["default"]=c.exports},"6d61":function(t,e,n){"use strict";var r=n("23e7"),i=n("da84"),a=n("e330"),o=n("94ca"),s=n("6eeb"),l=n("f183"),u=n("2266"),c=n("19aa"),h=n("1626"),f=n("861d"),d=n("d039"),v=n("1c7e"),p=n("d44e"),m=n("7156");t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),y=g?"set":"add",w=i[t],x=w&&w.prototype,S=w,k={},C=function(t){var e=a(x[t]);s(x,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!f(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return b&&!f(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!f(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})},_=o(t,!h(w)||!(b||x.forEach&&!d((function(){(new w).entries().next()}))));if(_)S=n.getConstructor(e,t,g,y),l.enable();else if(o(t,!0)){var M=new S,O=M[y](b?{}:-0,1)!=M,T=d((function(){M.has(1)})),D=v((function(t){new w(t)})),B=!b&&d((function(){var t=new w,e=5;while(e--)t[y](e,e);return!t.has(-0)}));D||(S=e((function(t,e){c(t,x);var n=m(new w,t,S);return void 0!=e&&u(e,n[y],{that:n,AS_ENTRIES:g}),n})),S.prototype=x,x.constructor=S),(T||B)&&(C("delete"),C("has"),g&&C("get")),(B||O)&&C(y),b&&x.clear&&delete x.clear}return k[t]=S,r({global:!0,forced:S!=w},k),p(S,t),b||n.setStrong(S,t,g),S}},7899:function(t,e,n){"use strict";t.exports=a;var r=n("92ba");function i(t,e){for(var n=new Array(e+1),i=0;i<t.length;++i)n[i]=t[i];for(i=0;i<=t.length;++i){for(var a=t.length;a<=e;++a){for(var o=new Array(e),s=0;s<e;++s)o[s]=Math.pow(a+1-i,s);n[a]=o}var l=r.apply(void 0,n);if(l)return!0}return!1}function a(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var n=t[0].length,r=[t[0]],a=[0],o=1;o<e;++o)if(r.push(t[o]),i(r,n)){if(a.push(o),a.length===n+1)return a}else r.pop();return a}},"8ff7":function(t,e,n){"use strict";t.exports=i;var r=n("ca23");function i(t){var e=r(t),n=e.length;if(n<=2)return[];for(var i=new Array(n),a=e[n-1],o=0;o<n;++o){var s=e[o];i[o]=[a,s],a=s}return i}},"92ba":function(t,e,n){"use strict";var r=n("c01c"),i=n("a026"),a=n("0dd1"),o=n("e100"),s=5,l=11102230246251565e-32,u=(3+16*l)*l,c=(7+56*l)*l;function h(t,e){for(var n=new Array(t.length-1),r=1;r<t.length;++r)for(var i=n[r-1]=new Array(t.length-1),a=0,o=0;a<t.length;++a)a!==e&&(i[o++]=t[r][a]);return n}function f(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var r=0;r<t;++r)e[n][r]=["m",r,"[",t-n-1,"]"].join("")}return e}function d(t){return 1&t?"-":""}function v(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",v(t.slice(0,e)),",",v(t.slice(e)),")"].join("")}function p(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],n=0;n<t.length;++n)e.push(["scale(",v(p(h(t,n))),",",d(n),t[0][n],")"].join(""));return e}function m(t){for(var e=[],n=[],s=f(t),l=[],u=0;u<t;++u)0===(1&u)?e.push.apply(e,p(h(s,u))):n.push.apply(n,p(h(s,u))),l.push("m"+u);var c=v(e),d=v(n),m="orientation"+t+"Exact",g=["function ",m,"(",l.join(),"){var p=",c,",n=",d,",d=sub(p,n);return d[d.length-1];};return ",m].join(""),b=new Function("sum","prod","scale","sub",g);return b(i,r,a,o)}var g=m(3),b=m(4),y=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var r,i=(t[1]-n[1])*(e[0]-n[0]),a=(t[0]-n[0])*(e[1]-n[1]),o=i-a;if(i>0){if(a<=0)return o;r=i+a}else{if(!(i<0))return o;if(a>=0)return o;r=-(i+a)}var s=u*r;return o>=s||o<=-s?o:g(t,e,n)},function(t,e,n,r){var i=t[0]-r[0],a=e[0]-r[0],o=n[0]-r[0],s=t[1]-r[1],l=e[1]-r[1],u=n[1]-r[1],h=t[2]-r[2],f=e[2]-r[2],d=n[2]-r[2],v=a*u,p=o*l,m=o*s,g=i*u,y=i*l,w=a*s,x=h*(v-p)+f*(m-g)+d*(y-w),S=(Math.abs(v)+Math.abs(p))*Math.abs(h)+(Math.abs(m)+Math.abs(g))*Math.abs(f)+(Math.abs(y)+Math.abs(w))*Math.abs(d),k=c*S;return x>k||-x>k?x:b(t,e,n,r)}];function w(t){var e=y[t.length];return e||(e=y[t.length]=m(t.length)),e.apply(void 0,t)}function x(){while(y.length<=s)y.push(m(y.length));for(var e=[],n=["slow"],r=0;r<=s;++r)e.push("a"+r),n.push("o"+r);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=s;++r)i.push("case ",r,":return o",r,"(",e.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(i.join(""));var a=Function.apply(void 0,n);t.exports=a.apply(void 0,[w].concat(y));for(r=0;r<=s;++r)t.exports[r]=y[r]}x()},a00a:function(t,e,n){"use strict";n.r(e),n.d(e,"version",(function(){return h}));var r,i=n("313e");function a(t,e){this._bmap=t,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=e,this._projection=new BMap.MercatorProjection}function o(t,e){return e=e||[0,0],i["i"].map([0,1],(function(n){var r=e[n],i=t[n]/2,a=[],o=[];return a[n]=r-i,o[n]=r+i,a[1-n]=o[1-n]=e[1-n],Math.abs(this.dataToPoint(a)[n]-this.dataToPoint(o)[n])}),this)}function s(){function t(t){this._root=t}return t.prototype=new BMap.Overlay,t.prototype.initialize=function(t){return t.getPanes().labelPane.appendChild(this._root),this._root},t.prototype.draw=function(){},t}a.prototype.dimensions=["lng","lat"],a.prototype.setZoom=function(t){this._zoom=t},a.prototype.setCenter=function(t){this._center=this._projection.lngLatToPoint(new BMap.Point(t[0],t[1]))},a.prototype.setMapOffset=function(t){this._mapOffset=t},a.prototype.getBMap=function(){return this._bmap},a.prototype.dataToPoint=function(t){var e=new BMap.Point(t[0],t[1]),n=this._bmap.pointToOverlayPixel(e),r=this._mapOffset;return[n.x-r[0],n.y-r[1]]},a.prototype.pointToData=function(t){var e=this._mapOffset;return t=this._bmap.overlayPixelToPoint({x:t[0]+e[0],y:t[1]+e[1]}),[t.lng,t.lat]},a.prototype.getViewRect=function(){var t=this._api;return new i["d"].BoundingRect(0,0,t.getWidth(),t.getHeight())},a.prototype.getRoamTransform=function(){return i["f"].create()},a.prototype.prepareCustoms=function(){var t=this.getViewRect();return{coordSys:{type:"bmap",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:i["i"].bind(this.dataToPoint,this),size:i["i"].bind(o,this)}}},a.dimensions=a.prototype.dimensions,a.create=function(t,e){var n,o=e.getDom();t.eachComponent("bmap",(function(t){var l,u=e.getZr().painter,c=u.getViewportRoot();if("undefined"===typeof BMap)throw new Error("BMap api is not loaded");if(r=r||s(),n)throw new Error("Only one bmap component can exist");if(!t.__bmap){var h=o.querySelector(".ec-extension-bmap");h&&(c.style.left="0px",c.style.top="0px",o.removeChild(h)),h=document.createElement("div"),h.className="ec-extension-bmap",h.style.cssText="position:absolute;width:100%;height:100%",o.appendChild(h);var f=t.get("mapOptions");f&&(f=i["i"].clone(f),delete f.mapType),l=t.__bmap=new BMap.Map(h,f);var d=new r(c);l.addOverlay(d),u.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}l=t.__bmap;var v=t.get("center"),p=t.get("zoom");if(v&&p){var m=l.getCenter(),g=l.getZoom(),b=t.centerOrZoomChanged([m.lng,m.lat],g);if(b){var y=new BMap.Point(v[0],v[1]);l.centerAndZoom(y,p)}}n=new a(l,e),n.setMapOffset(t.__mapOffset||[0,0]),n.setZoom(p),n.setCenter(v),t.coordinateSystem=n})),t.eachSeries((function(t){"bmap"===t.get("coordinateSystem")&&(t.coordinateSystem=n)}))};var l=a;function u(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}i["b"]({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(t,e){this.option.center=t,this.option.zoom=e},centerOrZoomChanged:function(t,e){var n=this.option;return!(u(t,n.center)&&e===n.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},mapOptions:{},roam:!1}});function c(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}i["c"]({type:"bmap",render:function(t,e,n){var r=!0,a=t.getBMap(),o=n.getZr().painter.getViewportRoot(),s=t.coordinateSystem,l=function(e,i){if(!r){var a=o.parentNode.parentNode.parentNode,l=[-parseInt(a.style.left,10)||0,-parseInt(a.style.top,10)||0],u=o.style,c=l[0]+"px",h=l[1]+"px";u.left!==c&&(u.left=c),u.top!==h&&(u.top=h),s.setMapOffset(l),t.__mapOffset=l,n.dispatchAction({type:"bmapRoam",animation:{duration:0}})}};function u(){r||n.dispatchAction({type:"bmapRoam",animation:{duration:0}})}a.removeEventListener("moving",this._oldMoveHandler),a.removeEventListener("moveend",this._oldMoveHandler),a.removeEventListener("zoomend",this._oldZoomEndHandler),a.addEventListener("moving",l),a.addEventListener("moveend",l),a.addEventListener("zoomend",u),this._oldMoveHandler=l,this._oldZoomEndHandler=u;var h=t.get("roam");h&&"scale"!==h?a.enableDragging():a.disableDragging(),h&&"move"!==h?(a.enableScrollWheelZoom(),a.enableDoubleClickZoom(),a.enablePinchToZoom()):(a.disableScrollWheelZoom(),a.disableDoubleClickZoom(),a.disablePinchToZoom());var f=t.__mapStyle,d=t.get("mapStyle")||{},v=JSON.stringify(d);JSON.stringify(f)!==v&&(c(d)||a.setMapStyle(i["i"].clone(d)),t.__mapStyle=JSON.parse(v));var p=t.__mapStyle2,m=t.get("mapStyleV2")||{},g=JSON.stringify(m);JSON.stringify(p)!==g&&(c(m)||a.setMapStyleV2(i["i"].clone(m)),t.__mapStyle2=JSON.parse(g)),r=!1}});i["h"]("bmap",l),i["g"]({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},(function(t,e){e.eachComponent("bmap",(function(t){var e=t.getBMap(),n=e.getCenter();t.setCenterAndZoom([n.lng,n.lat],e.getZoom())}))}));var h="1.0.0"},a026:function(t,e,n){"use strict";function r(t,e){var n=t+e,r=n-t,i=n-r,a=e-r,o=t-i,s=o+a;return s?[s,n]:[n]}function i(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return r(t[0],e[0]);var a,o,s=n+i,l=new Array(s),u=0,c=0,h=0,f=Math.abs,d=t[c],v=f(d),p=e[h],m=f(p);v<m?(o=d,c+=1,c<n&&(d=t[c],v=f(d))):(o=p,h+=1,h<i&&(p=e[h],m=f(p))),c<n&&v<m||h>=i?(a=d,c+=1,c<n&&(d=t[c],v=f(d))):(a=p,h+=1,h<i&&(p=e[h],m=f(p)));var g,b,y,w,x,S=a+o,k=S-a,C=o-k,_=C,M=S;while(c<n&&h<i)v<m?(a=d,c+=1,c<n&&(d=t[c],v=f(d))):(a=p,h+=1,h<i&&(p=e[h],m=f(p))),o=_,S=a+o,k=S-a,C=o-k,C&&(l[u++]=C),g=M+S,b=g-M,y=g-b,w=S-b,x=M-y,_=x+w,M=g;while(c<n)a=d,o=_,S=a+o,k=S-a,C=o-k,C&&(l[u++]=C),g=M+S,b=g-M,y=g-b,w=S-b,x=M-y,_=x+w,M=g,c+=1,c<n&&(d=t[c]);while(h<i)a=p,o=_,S=a+o,k=S-a,C=o-k,C&&(l[u++]=C),g=M+S,b=g-M,y=g-b,w=S-b,x=M-y,_=x+w,M=g,h+=1,h<i&&(p=e[h]);return _&&(l[u++]=_),M&&(l[u++]=M),u||(l[u++]=0),l.length=u,l}t.exports=i},a48a:function(t,e,n){"use strict";var r=32;function i(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=r,e.INT_MAX=2147483647,e.INT_MIN=-1<<r-1,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>r-1;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1)&&!!t},e.log2=function(t){var e,n;return e=(t>65535)<<4,t>>>=e,n=(t>255)<<3,t>>>=n,e|=n,n=(t>15)<<2,t>>>=n,e|=n,n=(t>3)<<1,t>>>=n,e|=n,e|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},e.countTrailingZeros=i,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var a=new Array(256);(function(t){for(var e=0;e<256;++e){var n=e,r=e,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;t[e]=r<<i&255}})(a),e.reverse=function(t){return a[255&t]<<24|a[t>>>8&255]<<16|a[t>>>16&255]<<8|a[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},e.interleave3=function(t,e,n){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),t|n<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},ab8a:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{key:t.id,attrs:{"max-width":"900px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("v-toolbar",{attrs:{color:"cyan",dark:"",tabs:""}},[n("v-toolbar-title",[t._v(t._s(t.name)+" "+t._s(t.volt)+" "+t._s(t.type))]),n("v-tabs",{attrs:{slot:"extension",centered:"",color:"cyan","slider-color":"yellow"},slot:"extension"},[n("v-tab",[t._v(" General ")])],1)],1),n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v(" Data ")]),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.display,"hide-default-footer":""},scopedSlots:t._u([{key:"items",fn:function(e){return t._l(e.item,(function(e){return n("td",{key:e.text,staticClass:"text-xs-right"},[t._v(" "+t._s(e)+" ")])}))}}])}),n("v-card-title",{staticClass:"headline"},[t._v(" Control ")]),n("v-overflow-btn",{attrs:{dense:"",items:t.dropdown,label:"Commands",segmented:"",target:"#dropdown-example"}}),n("v-card-actions",[n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){e.stopPropagation(),t.show=!1}}},[t._v("Close")])],1)],1)],1)},i=[],a=(n("d81d"),n("b0c0"),n("b64b"),n("18a5"),n("fb6a"),{data:function(){var t=this,e=[],n=function(){var n=r;e.push({text:t.$store.state.tcmcommands.Branch[r],callback:function(){t.$store.commit("setMessage",[t.type,t.id,t.name,t.$store.state.tcmcommands.Branch[n]]),t.$store.commit("setPublish")}})};for(var r in this.$store.state.tcmcommands.Branch)n();var i=this.$store.state.fieldstore.Branch["Field"].map((function(t){return{text:t,value:t}}));return{dropdown:e,display:[],anchor:0,arrlength:null,keyarr:null,Interval:null,headers:i}},props:{visible:{type:Boolean,default:!1},type:{type:String},id:{type:String},name:{type:String,default:"NULL"},volt:{type:String,default:""},data:{default:function(){return[]}}},computed:{show:{get:function(){return this.visible},set:function(t){t||this.$emit("close")}}},methods:{init:function(){for(var t in this.$store.state.fieldstore){if(this.arrlength=this.$store.state.fieldstore[t]["Field"].length,this.keyarr=Object.keys(this.$store.state.areadetail.content[t]),t==this.type){this.anchor+=this.arrlength*this.keyarr.indexOf(this.id);break}this.anchor+=this.arrlength*this.keyarr.length}},getData:function(){this.$store.state.parsedData;var t=this.$store.state.parsedData.slice(this.anchor,this.anchor+this.arrlength),e={};for(var n in t)e[this.$store.state.fieldstore[this.type]["Field"][n]]=t[n];this.display=[e]}},mounted:function(){var t=this;this.init(),this.Interval=setInterval((function(){t.getData()}),500)},beforeDestroy:function(){clearInterval(this.Interval)}}),o=a,s=n("2877"),l=Object(s["a"])(o,r,i,!1,null,null,null);e["default"]=l.exports},c01c:function(t,e,n){"use strict";t.exports=i;var r=+(Math.pow(2,27)+1);function i(t,e,n){var i=t*e,a=r*t,o=a-t,s=a-o,l=t-s,u=r*e,c=u-e,h=u-c,f=e-h,d=i-s*h,v=d-l*h,p=v-s*f,m=l*f-p;return n?(n[0]=m,n[1]=i,n):[m,i]}},ca23:function(t,e,n){"use strict";t.exports=i;var r=n("92ba")[3];function i(t){var e=t.length;if(e<3){for(var n=new Array(e),i=0;i<e;++i)n[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var a=new Array(e);for(i=0;i<e;++i)a[i]=i;a.sort((function(e,n){var r=t[e][0]-t[n][0];return r||t[e][1]-t[n][1]}));var o=[a[0],a[1]],s=[a[0],a[1]];for(i=2;i<e;++i){var l=a[i],u=t[l],c=o.length;while(c>1&&r(t[o[c-2]],t[o[c-1]],u)<=0)c-=1,o.pop();o.push(l),c=s.length;while(c>1&&r(t[s[c-2]],t[s[c-1]],u)>=0)c-=1,s.pop();s.push(l)}n=new Array(s.length+o.length-2);for(var h=0,f=(i=0,o.length);i<f;++i)n[h++]=o[i];for(var d=s.length-2;d>0;--d)n[h++]=s[d];return n}},ca39:function(t,e,n){"use strict";t.exports=s;var r=n("0000"),i=n("7899");function a(t,e){for(var n=t.length,r=new Array(n),i=0;i<e.length;++i)r[i]=t[e[i]];var a=e.length;for(i=0;i<n;++i)e.indexOf(i)<0&&(r[a++]=t[i]);return r}function o(t,e){for(var n=t.length,r=e.length,i=0;i<n;++i)for(var a=t[i],o=0;o<a.length;++o){var s=a[o];if(s<r)a[o]=e[s];else{s-=r;for(var l=0;l<r;++l)s>=e[l]&&(s+=1);a[o]=s}}return t}function s(t,e){try{return r(t,!0)}catch(u){var n=i(t);if(n.length<=e)return[];var s=a(t,n),l=r(s,!0);return o(l,n)}}},cd00:function(t,e,n){},d1bd:function(t,e,n){"use strict";function r(t,e,n){var r=t+e,i=r-t,a=r-i,o=e-i,s=t-a;return n?(n[0]=s+o,n[1]=r,n):[s+o,r]}t.exports=r},d4b7:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-layout",{staticClass:"align-center layout px-4 pt-4 app--page-header",attrs:{row:""}},[n("div",{staticClass:"page-header-left"},[n("h3",{staticClass:"pr-3"},[t._v("Under Development")])]),n("v-breadcrumbs",{attrs:{divider:"-"}},[n("v-breadcrumbs-item",[n("v-icon",{attrs:{larg:""}},[t._v("mdi-lightbulb")])],1)],1),n("v-spacer"),n("userInfo")],1),n("v-container",{attrs:{"grid-list-xl":"","text-xs-center":"",fluid:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{lg8:"",sm12:"",xs12:""}},[n("v-widget",{attrs:{title:"Cluster Map","content-bg":"white"}},[n("div",{attrs:{slot:"widget-content"},slot:"widget-content"},[n("IkMap",{ref:"map"})],1)])],1),n("v-flex",{attrs:{lg4:"",sm12:"",xs12:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[n("v-widget",{attrs:{title:"Settings","content-bg":"white"}},[n("div",{staticClass:"cardiv",attrs:{slot:"widget-content"},slot:"widget-content"},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{lg10:"",sm10:"",xs10:""}},[n("v-text-field",{attrs:{label:"Number of Cluster"},model:{value:t.cluster,callback:function(e){t.cluster=e},expression:"cluster"}})],1),n("v-flex",{attrs:{lg2:"",sm2:"",xs2:""}},[n("div",{staticClass:"text-xs-center"},[n("div",[n("v-btn",{attrs:{color:"primary",fab:"",small:"",dark:""},on:{click:t.draw}},[n("v-icon",[t._v("edit")])],1)],1)])]),n("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.inProgress,expression:"inProgress"}],attrs:{xs12:""}},[n("v-progress-linear",{attrs:{indeterminate:!0}})],1)],1)],1)])],1),n("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[n("v-widget",{attrs:{title:"Tool2","content-bg":"white"}},[n("div",{staticClass:"cardiv",attrs:{slot:"widget-content"},slot:"widget-content"},[n("v-card",{attrs:{dark:"",color:"light-blue"}},[n("v-card-text",{staticClass:"px-0"},[t._v("Tool2")])],1)],1)])],1)],1)],1)],1)],1)],1)},i=[],a=(n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("linepop",{attrs:{visible:t.lineshowDialog,type:t.type,id:t.id,name:t.name,volt:t.volt},on:{close:function(e){t.lineshowDialog=!1}}}),n("subpop",{attrs:{visible:t.subshowDialog,children:t.children,type:t.type,id:t.id,name:t.name,volt:t.volt},on:{close:function(e){t.subshowDialog=!1}}}),n("subpop",{attrs:{visible:t.areashowDialog,type:t.type},on:{close:function(e){t.areashowDialog=!1}}}),n("div",{staticClass:"chart",attrs:{id:"main"}})],1)}),o=[],s=(n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("dde1"));function l(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Object(s["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,a=t},f:function(){try{o||null==n["return"]||n["return"]()}finally{if(l)throw a}}}}n("ac1f"),n("1276"),n("b0c0"),n("25f0"),n("a9e3"),n("6062"),n("caad"),n("2532"),n("b64b"),n("18a5");var u=n("313e"),c=n("ab8a"),h=n("65f4"),f=n("2ef0"),d=n.n(f);n("a00a");var v={name:"IkMap",data:function(){return{chart:"",linedata:[],selectlinedata:[],subdata:[],subdetail:[],temp:[],temp2:[],busdetail:[],subshowDialog:!1,lineshowDialog:!1,areashowDialog:!1,children:{},type:"",id:"",name:"",volt:"",config:null,commands:[],case:{},numClusters:9,colorpicker:[],linethickness:[1,1],branchFromToCoord:[],polyLonLatData:[],FinalClustering:[],results:[],shapeNodeOrder:[],allCenterSSArray2:[],zoomRatio:1.2,initZoom:7,currentZoom:this.initZoom,defaultrenderCenter:[-99.9018,31.9686],renderCenter:[-99.9018,31.9686],anchor:0,arrlength:0,tieLines:[],nonTieLines:[],violatedBasins:[],zoomInFlag:[],zoomOutFlag:!1,projection:{},interval:null,originalSub:null}},methods:{initdraw:function(t){var e,n=this,r=this;this.chart.setOption({animation:!1,bmap:{center:this.renderCenter,zoom:this.initZoom,roam:!0,mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#044161"}},{featureType:"boundary",elementType:"geometry",stylers:{color:"#064f85"}},{featureType:"railway",elementType:"all",stylers:{visibility:"off"}},{featureType:"highway",elementType:"geometry",stylers:{color:"#004981",visibility:"off"}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#005b96",lightness:1,visibility:"off"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry",stylers:{color:"#004981"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#00508b"}},{featureType:"poi",elementType:"all",stylers:{visibility:"off"}},{featureType:"green",elementType:"all",stylers:{color:"#056197",visibility:"off"}},{featureType:"subway",elementType:"all",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"all",stylers:{visibility:"off"}},{featureType:"local",elementType:"all",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off"}},{featureType:"boundary",elementType:"geometry.fill",stylers:{color:"#029fd4"}},{featureType:"building",elementType:"all",stylers:{color:"#1a5787"}},{featureType:"label",elementType:"all",stylers:{visibility:"off"}}]}},series:[{id:"sub",type:"scatter",name:"sub",coordinateSystem:"bmap",large:!0,largeThreshold:800,symbol:"circle",symbolSize:6,showEffectOn:"emphasis",data:[],label:{color:"blue",show:!1,formatter:function(t){return t.data.name.split("_")[0]}},itemStyle:{color:"rgb(25, 0, 128)"}},{id:"lines",name:"lines",type:"lines",coordinateSystem:"bmap",progressive:50,progressiveThreshold:500,silent:!0,zlevel:3,effect:{show:!0,constantSpeed:10,symbol:"arrow",symbolSize:5,trailLength:0,color:"red",loop:!0},blendMode:"lighter",lineStyle:{width:1,color:"rgb(200, 40, 0)",opacity:1},emphasis:{lineStyle:{width:2,shadowColor:"rgba(144, 144, 255, 0.5)",shadowBlur:10}},data:[]},{id:"clusterShape",type:"custom",name:"clusterShape",coordinateSystem:"bmap",animation:!1,zlevel:4,renderItem:this.onrenderClusterShape,data:[]}]},!0);this.chart.on("bmapRoam",(function(){return n.onRoam()})),this.chart.on("click",(function(t){if("sub"==t.seriesName)r.type="Substation",r.name=t.name,r.id=t.data.id,r.volt="",r.children=r.subdetail[+t.data.id].Bus,r.subshowDialog=!0;else if("lines"==t.seriesName)r.type="Branch",r.name=t.name,r.id=t.data.id,r.volt=t.data.attributes.volt.toString()+"kV",r.lineshowDialog=!0;else if("clusterShape"==t.seriesName){e=t.value,r.zoomInFlag=[!0,e],r.renderCenter=[r.results[e].centroid[0],r.results[e].centroid[1]],r.type="Area "+t.value.toString();var n=r.chart.getOption();n.bmap[0].center=r.renderCenter,n.bmap[0].zoom=10,r.chart.setOption(n),r.onMiniCluster(e)}}))},getData:function(){var t=this.$store.state.casedetail;if(this.case=t,"dsmDictionary"==t.content.type){for(var e in t.content.Substation)this.subdata.push({id:e,name:t.content.Substation[e]["String.Name"],value:[t.content.Substation[e]["Double.Longitude"],t.content.Substation[e]["Double.Latitude"]],attributes:{clustergp:-1,clustercenter:!1,tielinenode:!1},bus:[]});for(var n in this.originalSub=d.a.cloneDeep(this.subdata),t.content.Branch)if(0==t.content.Branch[n]["Byte.Type"]){var r=n.split(",")[0],i=n.split(",")[1],a=[this.subdata[t.content.Bus[r]["Int.Sub Number"]-1].value,this.subdata[t.content.Bus[i]["Int.Sub Number"]-1].value];this.branchFromToCoord.push(a),this.linedata.push({id:n,name:this.subdata[t.content.Bus[r]["Int.Sub Number"]-1].name.split("_")[0]+"-"+this.subdata[t.content.Bus[i]["Int.Sub Number"]-1].name.split("_")[0],coords:a,count:1,attributes:{MVALimit:t.content.Branch[n]["Single.MVA Limit"],volt:t.content.Bus[r]["Single.Nominal kV"],tieline:!1}})}for(var o in this.subdetail=t.content.Substation,this.busdetail=t.content.Bus,this.subdetail)this.subdetail[o].Bus=[];for(var s in t.content.Gen)this.busdetail[s].Gen=t.content.Gen[s];for(var l in t.content.Load)this.busdetail[l].Load=t.content.Load[l];for(var u in t.content.Shunt)this.busdetail[u].Shunt=t.content.Shunt[u];for(var c in t.content.Bus)this.subdetail[t.content.Bus[c]["Int.Sub Number"]].Bus.push(this.busdetail[c])}},onDrawSub:function(t){var e=this.chart.getOption();e.series[0].data=t,this.chart.setOption(e)},onDrawLines:function(){this.chart.setOption({series:[{id:"sub",data:[]},{id:"lines",data:this.selectlinedata,color:"black"},{id:"clusterShape",name:"clusterShape",data:Array.apply(null,{length:this.numClusters}).map(Number.call,Number)}]})},onRoam:function(){this.currentZoom=this.chart.getOption().bmap[0].zoom},onCluster:function(){var t=[],e={};for(var r in this.case.content.Substation){var i=this.case.content.Substation[r]["Int.Number"],a=this.case.content.Substation[r]["Double.Longitude"],o=this.case.content.Substation[r]["Double.Latitude"];t.push([a,o]),e[a.toString()+","+o.toString()]=i}var s=n("d524");s.k(this.numClusters),s.iterations(100),s.data(t);var l,u,c,h,f,d,v=s.clusters();this.results=v;var p,m=[],g=[],b=n("030d"),y=999,w=-1;for(var x in v){for(var S in l=Math.cos(v[x].centroid[0])*Math.cos(v[x].centroid[1]),u=Math.sin(v[x].centroid[0])*Math.cos(v[x].centroid[1]),y=999,v[x].points)w+=1,c=Math.cos(v[x].points[S][0])*Math.cos(v[x].points[S][1]),h=Math.sin(v[x].points[S][0])*Math.cos(v[x].points[S][1]),p=b([l,u],[c,h]),p<y&&(y=p,f=S,d=w),Math.distance=this.FinalClustering.push([e[v[x].points[S][0].toString()+","+v[x].points[S][1].toString()],x,"notCenter"]);this.projection=e,g.push(d),m.push(f)}this.allCenterSSArray2=g;for(var k=0;k<this.numClusters;k++){var C=g[k];this.FinalClustering[C][2]="Center",this.subdata[this.FinalClustering[C][0]-1].attributes.clustercenter=!0}for(var _=0;_<this.numClusters;_++){var M=m[_];v[_].points[M][2]="Center"}var O,T,D,B=[],I=[];for(var L in this.case.content.Branch){var A=L.split(",")[0],j=L.split(",")[1],N=this.case.content.Bus[A]["Int.Sub Number"],F=this.case.content.Bus[j]["Int.Sub Number"];if(O=this.FinalClustering.map((function(t){return t[0]})).indexOf(N),-1!==O&&(T=this.FinalClustering[O][1]),O=this.FinalClustering.map((function(t){return t[0]})).indexOf(F),-1!==O&&(D=this.FinalClustering[O][1]),null!==T&null!==D)if(T==D){I.push([L,T,A,j]);this.subdata[N-1].value,this.subdata[F-1].value}else{B.push([L,T,D,A,j]);var z=[this.subdata[N-1].value,this.subdata[F-1].value];this.selectlinedata.push({id:L,name:this.subdata[N-1].name.split("_")[0]+"-"+this.subdata[F-1].name.split("_")[0],coords:z,count:1,attributes:{MVALimit:this.case.content.Branch[L]["Single.MVA Limit"],volt:this.case.content.Bus[A]["Single.Nominal kV"],tieline:!0},lineStyle:{opacity:1}}),this.subdata[N-1].attributes.tielinenode=!0,this.subdata[F-1].attributes.tielinenode=!0}}this.tieLines=B,this.nonTieLines=I;var P;for(var $ in this.case.content.Substation){for(var V in[this.case.content.Substation[$]["Double.Longitude"],this.case.content.Substation[$]["Double.Latitude"]],v)for(var E in v[V].points)if(v[V].points[E][0]==this.case.content.Substation[$]["Double.Longitude"]&&v[V].points[E][1]==this.case.content.Substation[$]["Double.Latitude"]){P=V;break}this.subdata[$-1].attributes.clustergp=P}this.onobtainClusterLongLat()},onMiniCluster:function(t){var e,r=[];for(var i in this.results[t].points){e=this.projection[this.results[t].points[i][0].toString()+","+this.results[t].points[i][1].toString()];var a=this.case.content.Substation[e]["Double.Longitude"],o=this.case.content.Substation[e]["Double.Latitude"];r.push([a,o])}var s=[],l=n("d524");return l.k(this.numClusters),l.iterations(100),l.data(r),s=l.clusters(),s},Ongetsubstatcolor:function(t){return this.colorpicker[+t.data.attributes.clustergp]},onColorPick:function(){for(var t=0;t<this.numClusters;t++)this.colorpicker.push("rgba("+Math.round(255*Math.random()).toString()+","+Math.round(255*Math.random()).toString()+","+Math.round(255*Math.random()).toString()+", 0.6)")},Ongetsubstationsize:function(t,e){var n;return n=(e.data.attributes.clustercenter,10),n},ongetBoundaryDataPoints:function(t,e,n){var r,i,a,o=[],s=[];if(t.length>2){r=e[0][0],i=t[r][1],a=t[r][2],o.push([i,a]);for(var l=1;l<e.length;l++)r=e[l][0],i=t[r][1],a=t[r][2],o.push([i,a]);s=o}else{for(var u in t)i=t[u][1],a=t[u][2],o.push([i,a]);s=o}return s},onarrayDifference:function(t,e){var n,r=new Set(t),i=l(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.delete(a)}}catch(o){i.e(o)}finally{i.f()}return r},sortFunction:function(t,e){return e[0]===t[0]?0:e[0]<t[0]?-1:1},onobtainClusterLongLat:function(){for(var t,e,r,i=-1,a=[],o=[],s=[],l=[],u=n("1a3f"),c=0;c<this.numClusters;c++){var h=c;for(var f in a=[],o=[],this.FinalClustering){if(i+=1,i>this.FinalClustering.length-1)break;if(this.FinalClustering[i][1]!=h.toString()){i-=1;break}t=this.FinalClustering[i][0]-1,e=this.subdata[t].value[0],r=this.subdata[t].value[1],a.push([t,e,r]),o.push([e,r])}l.push(a),s=this.ongetBoundaryDataPoints(a,u(o),c),this.shapeNodeOrder.push(s)}},onrenderClusterShape:function(t,e){var n=t.dataIndex,r=1,i=this.shapeNodeOrder[n];1==this.zoomInFlag[0]&&n==this.zoomInFlag[1]&&(r=.6);for(var a=[],o="hsla(56, 50%, 50%, 1)",s=0;s<i.length;s++)a.push(e.coord(i[s]));return this.violatedBasins.includes(n)&&(o="hsla(15, 50%, 50%, "+r.toString()+")"),{type:"polygon",shape:{points:u["d"].clipPointsByRect(a,{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height})},style:e.style({fill:o})}},onFindBranchSegment:function(){var t;for(var e in this.$store.state.fieldstore){if(this.arrlength=this.$store.state.fieldstore[e]["Field"].length,t=Object.keys(this.$store.state.casedetail.content[e]),"Branch"==e)break;this.anchor+=this.arrlength*t.length}},onMonitor:function(){var t,e,n,r=this.$store.state.data,i=-1,a=[];for(var o in this.$store.state.casedetail.content.Branch)i++,t=this.$store.state.casedetail.content.Branch[o]["Single.MVA Limit"],e=r[this.anchor+3+i*this.arrlength],n=this.tieLines.map((function(t){return t[0]})).indexOf(o),e>t&&(-1!=n?(a.push(+this.tieLines[n][1]),a.push(+this.tieLines[n][2])):(n=this.nonTieLines.map((function(t){return t[0]})).indexOf(o),a.push(+this.nonTieLines[n][1])));this.violatedBasins=a;var s=this.chart.getOption();this.chart.setOption(s)},redraw:function(t){var e=this;this.$nextTick((function(){e.interval&&clearInterval(e.interval),0!=t&&t?(e.reInitParameters(),e.numClusters=+t,e.onCluster(),e.onDrawLines(),e.interval=setInterval((function(){e.onMonitor()}),5e3)):e.onDrawFullTopo()}))},reInitParameters:function(){this.FinalClustering=[],this.selectlinedata=[],this.shapeNodeOrder=[]},onDrawFullTopo:function(){this.chart.setOption({series:[{id:"sub",data:this.originalSub},{id:"lines",data:this.linedata},{id:"clusterShape",data:[]}]})}},mounted:function(){this.chart=u["e"](document.getElementById("main")),this.onColorPick(),this.getData(),this.onFindBranchSegment(),this.initdraw("main"),this.onDrawFullTopo()},components:{linepop:c["default"],subpop:h["default"]}},p=v,m=(n("4418"),n("2877")),g=Object(m["a"])(p,a,o,!1,null,"67068c63",null),b=g.exports,y=n("129e"),w=n("5372"),x={name:"generator",data:function(){return{cluster:null,inProgress:!1}},components:{IkMap:b,VWidget:y["a"],userInfo:w["a"]},methods:{draw:function(){var t=this;this.$nextTick((function(){t.$refs.map.redraw(t.cluster)}))}}},S=x,k=(n("463b"),Object(m["a"])(S,r,i,!1,null,null,null));e["default"]=k.exports},d524:function(t,e,n){"use strict";function r(t,e){for(var n=e.k||Math.round(Math.sqrt(t.length/2)),r=e.iterations,o=t.map((function(t){return new i(t)})),s=[],l=0;l<n;l++)s.push(new a(o[l%o.length].location(),l));for(var u=0;u<r;u++)o.forEach((function(t){t.updateLabel(s)})),s.forEach((function(t){t.updateLocation(o)}));return{points:o,centroids:s}}function i(t){var e=this;this.location=o(t),this.label=o(),this.updateLabel=function(t){var n=t.map((function(t){return s(e.location(),t.location())}));e.label(l(n))}}function a(t,e){var n=this;this.location=o(t),this.label=o(e),this.updateLocation=function(t){var e=t.filter((function(t){return t.label()==n.label()}));e.length>0&&n.location(c(e))}}function o(t,e){var n=t,r=e||function(t){return!0};return function(t){if("undefined"===typeof t)return n;r(t)&&(n=t)}}function s(t,e){var n=t.map((function(t,n){return Math.pow(t-e[n],2)}));return n.reduce((function(t,e){return t+e}),0)}function l(t){var e=t.reduce((function(t,e){return Math.min(t,e)}));return t.indexOf(e)}function u(t,e){return t.map((function(t,n){return t+e[n]}))}function c(t){var e=t[0].location().map((function(){return 0})),n=t.map((function(t){return t.location()})),r=n.reduce((function(t,e){return u(t,e)}),e);return r.map((function(e){return e/t.length}))}t.exports={data:o([],(function(t){var e=t[0].length;return t.map((function(t){return t.length==e})).reduce((function(t,e){return t&e}),!0)})),clusters:function(){var t=r(this.data(),{k:this.k(),iterations:this.iterations()}),e=t.points,n=t.centroids;return n.map((function(t){return{centroid:t.location(),points:e.filter((function(e){return e.label()==t.label()})).map((function(t){return t.location()}))}}))},k:o(void 0,(function(t){return t%1==0&t>0})),iterations:o(Math.pow(10,3),(function(t){return t%1==0&t>0}))}},d87c:function(t,e,n){},dca5:function(t,e,n){"use strict";function r(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}t.exports=r;var i=r.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},i.find=function(t){var e=t,n=this.roots;while(n[t]!==t)t=n[t];while(n[e]!==t){var r=n[e];n[e]=t,e=r}return t},i.link=function(t,e){var n=this.find(t),r=this.find(e);if(n!==r){var i=this.ranks,a=this.roots,o=i[n],s=i[r];o<s?a[n]=r:s<o?a[r]=n:(a[r]=n,++i[n])}}},e100:function(t,e,n){"use strict";function r(t,e){var n=t+e,r=n-t,i=n-r,a=e-r,o=t-i,s=o+a;return s?[s,n]:[n]}function i(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return r(t[0],-e[0]);var a,o,s=n+i,l=new Array(s),u=0,c=0,h=0,f=Math.abs,d=t[c],v=f(d),p=-e[h],m=f(p);v<m?(o=d,c+=1,c<n&&(d=t[c],v=f(d))):(o=p,h+=1,h<i&&(p=-e[h],m=f(p))),c<n&&v<m||h>=i?(a=d,c+=1,c<n&&(d=t[c],v=f(d))):(a=p,h+=1,h<i&&(p=-e[h],m=f(p)));var g,b,y,w,x,S=a+o,k=S-a,C=o-k,_=C,M=S;while(c<n&&h<i)v<m?(a=d,c+=1,c<n&&(d=t[c],v=f(d))):(a=p,h+=1,h<i&&(p=-e[h],m=f(p))),o=_,S=a+o,k=S-a,C=o-k,C&&(l[u++]=C),g=M+S,b=g-M,y=g-b,w=S-b,x=M-y,_=x+w,M=g;while(c<n)a=d,o=_,S=a+o,k=S-a,C=o-k,C&&(l[u++]=C),g=M+S,b=g-M,y=g-b,w=S-b,x=M-y,_=x+w,M=g,c+=1,c<n&&(d=t[c]);while(h<i)a=p,o=_,S=a+o,k=S-a,C=o-k,C&&(l[u++]=C),g=M+S,b=g-M,y=g-b,w=S-b,x=M-y,_=x+w,M=g,h+=1,h<i&&(p=-e[h]);return _&&(l[u++]=_),M&&(l[u++]=M),u||(l[u++]=0),l.length=u,l}t.exports=i}}]);
//# sourceMappingURL=chunk-5019b404.ae1f70a7.js.map