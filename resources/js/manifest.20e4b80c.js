(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["manifest"],{0:function(t,e){},"022f":function(t,e,a){"use strict";a("cedc")},"02b8":function(t,e,a){},"090a":function(t,e,a){"use strict";a("3936")},"0c7c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showToolbar?a("v-app-bar",{attrs:{"clipped-left":"",app:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"white--text pt-3"},[a("button",{on:{click:function(e){return t.$store.commit("setpage","Home")}}},[t._v("Gridverse")]),a("div",[a("p",{staticClass:"font-weight-thin text-subtitle-2"},[t._v(" Powered by PowerWorld Dynamics Studio and EMQ ")])])]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.handleFullScreen()}}},[a("v-icon",[t._v("fullscreen")])],1),a("v-menu",{attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{icon:"",text:""},on:{click:function(e){return t.$store.commit("resetbadge")}}},s),[a("v-badge",{attrs:{color:"red",overlap:""},model:{value:t.badgeShow,callback:function(e){t.badgeShow=e},expression:"badgeShow"}},[a("span",{attrs:{slot:"badge"},slot:"badge"},[t._v(t._s(t.badge))]),a("v-icon",{attrs:{medium:""}},[t._v("notifications")])],1)],1)]}}],null,!1,2545753837)},[a("NotificationList",{on:{changeHeight:t.changeHeight}})],1)],1):t._e(),a("v-navigation-drawer",{attrs:{fixed:"",app:"",clipped:"",width:"160"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:"",id:"step1"}},[a("div",{attrs:{id:"step4"}},[a("v-list-item",{key:"clock"},[a("Clock")],1)],1),a("v-list-item",{key:"home",on:{click:function(e){return t.$store.commit("setpage","Home")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("mdi-home")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Transmission")])],1)],1),a("v-list-item",{key:"generator",on:{click:function(e){return t.$store.commit("setpage","generator")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("mdi-google-glass")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Generator")])],1)],1),a("v-list-item",{key:"load",on:{click:function(e){return t.$store.commit("setpage","load")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("mdi-lightbulb")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Load")])],1)],1),a("v-list-item",{key:"shunt",on:{click:function(e){return t.$store.commit("setpage","shunt")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("mdi-currency-usd")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Shunt")])],1)],1),a("v-list-item",{key:"branch",on:{click:function(e){return t.$store.commit("setpage","branch")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("linear_scale")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Lines")])],1)],1),a("v-list-item",{key:"areastrip",on:{click:function(e){return t.$store.commit("setpage","areastrip")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("linear_scale")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Area")])],1)],1),a("v-list-item",{key:"sanddance",on:{click:function(e){return t.$store.commit("setpage","sanddance")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("linear_scale")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("SandDance")])],1)],1),a("v-list-item",{key:"oneline",on:{click:function(e){return t.$store.commit("setpage","oneline")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("linear_scale")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("OneLine")])],1)],1),a("v-list-item",{key:"generationVis",on:{click:function(e){return t.$store.commit("setpage","generationVis")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("mdi-chart-bar")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Gen. Bar")])],1)],1),a("v-list-item",{key:"generationPie",on:{click:function(e){return t.$store.commit("setpage","generationPie")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("mdi-chart-pie")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Gen. Pie")])],1)],1),a("v-list-item",{key:"sysInfo",on:{click:function(e){return t.$store.commit("setpage","sysInfo")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("mdi-file-document-box-multiple")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Sys. Info")])],1)],1),a("v-list-item",{key:"chat",on:{click:function(e){t.dialog=!0}}},[a("v-list-item-avatar",[a("v-icon",[t._v("chat")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Chat")])],1)],1),a("v-list-item",{key:"contact",on:{click:function(e){return t.$store.commit("setpage","contact")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("chat")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Contact")])],1)],1),a("v-list-item",{key:"start",on:{click:function(e){t.startDialog=!0}}},[a("v-list-item-avatar",[a("v-icon",[t._v("play_arrow")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Start")])],1)],1),a("v-list-item",{key:"abort",on:{click:function(e){return t.$store.commit("trigabortsim")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("mdi-stop")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Abort")])],1)],1),t.isAdmin?a("v-list-item",{key:"admin",on:{click:function(e){return t.$store.commit("setpage","admin")}}},[a("v-list-item-avatar",[a("v-icon",[t._v("supervisor_account")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Admin")])],1)],1):t._e(),a("v-list-item",{key:"report",on:{click:function(e){t.reportDialog=!0}}},[a("v-list-item-avatar",[a("v-icon",[t._v("save_alt")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Report")])],1)],1),a("v-spacer"),a("v-list-item",{key:"index"},[a("div",{staticClass:"pl-3 pt-5"},[t._v("RIndex: "+t._s(t.rIndex))])])],1)],1),a("v-main",[t.showToolbar?a("div",{attrs:{id:"step3"}},[a("marquee")],1):t._e(),a("div",{staticClass:"page-wrapper",attrs:{id:"step2"}},[a(t.page,{tag:"component"})],1)]),a("MqttClient"),a("DataProcessing"),a("AGCBot"),t.dialog?a("chatpop",{attrs:{visible:t.dialog},on:{close:function(e){t.dialog=!1}}}):t._e(),t.startDialog?a("startpop",{attrs:{visible:t.startDialog},on:{close:function(e){t.startDialog=!1}}}):t._e(),t.reportDialog?a("reportpop",{attrs:{visible:t.reportDialog},on:{close:function(e){t.reportDialog=!1}}}):t._e()],1)},i=[],n=a("f3f3"),r=(a("d3b7"),a("3ca3"),a("ddb0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")}),o=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(t._s(t.info))])},c=[],u=(a("a9e3"),a("9911"),a("bc3a")),d=a.n(u),h={name:"ApiClient",props:{link:String,interval:{type:Number,default:0}},data:function(){return{info:null}},created:function(){var t=this;if(0==this.interval){this.link;d()({method:"GET",url:this.link,withCredentials:!0,auth:{username:"b18f956b3ad8d",password:"Mjg0MDE4MjAyNjA3MjUwMzUxNTcxNjkyNTkxMjgyMjU3OTC"}}).then((function(e){return t.info=e}))}else setInterval((function(){d.a.get(t.link,{},{headers:{Authorization:"Basic YjE4Zjk1NmIzYWQ4ZDpNamcwTURFNE1qQXlOakEzTWpVd016VXhOVGN4TmpreU5Ua3hNamd5TWpVM09UQw=="},withCredentials:!0,auth:{username:"b18f956b3ad8d",password:"Mjg0MDE4MjAyNjA3MjUwMzUxNTcxNjkyNTkxMjgyMjU3OTC"}}).then((function(e){return t.info=e}))}),this.interval)}},m=h,v=a("2877"),f=Object(v["a"])(m,l,c,!1,null,"ff37953e",null),b=f.exports,p={name:"admin",data:function(){return{}},components:{ApiClient:b}},g=p,y=(a("53c7"),Object(v["a"])(g,r,o,!1,null,null,null)),x=y.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"echarts",attrs:{id:"chart"}})},w=[],C=a("22b4"),$=a("1be7"),k=a("3620"),_=a("9394"),D=a("2da7"),L=a("4b2a"),A=a("ff32"),V=a("5e81"),M=a("5334"),I=a("f95e");C["a"]([_["a"],D["a"],L["a"],A["a"],V["a"],M["a"],k["a"],I["a"]]);var T,B,O="",j={title:{text:"Bus Voltage",left:"center",top:"20",textStyle:{fontSize:48}},grid:{left:"3%",right:"3%",top:80},legend:{top:"bottom",data:["4195","4146","4056","4181","4192","4039","4151","4196","4073","4070","4158","4140","4113","4080","4004","4183","4041"]},xAxis:[{type:"time",boundaryGap:!1,axisLine:{show:!1}}],yAxis:{type:"value",boundaryGap:!1,axisLine:{show:!1},min:0,max:1.2},animation:!1,dataset:{dimensions:["date","4195","4146","4056","4181","4192","4039","4151","4196","4073","4070","4158","4140","4113","4080","4004","4183","4041"],source:[]},series:[{type:"line",name:"4195",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4195"}},{type:"line",name:"4146",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4146"}},{type:"line",name:"4056",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4056"}},{type:"line",name:"4181",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4181"}},{type:"line",name:"4192",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4192"}},{type:"line",name:"4039",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4039"}},{type:"line",name:"4151",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4151"}},{type:"line",name:"4196",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4196"}},{type:"line",name:"4073",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4073"}},{type:"line",name:"4070",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4070"}},{type:"line",name:"4158",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4158"}},{type:"line",name:"4140",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4140"}},{type:"line",name:"4113",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4113"}},{type:"line",name:"4080",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4080"}},{type:"line",name:"4004",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4004"}},{type:"line",name:"4183",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4183"}},{type:"line",name:"4041",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4041"}}]},N={mounted:function(){var t=this;O=$["l"](document.getElementById("chart"),"dark"),this.$once("hook:beforeDestroy",(function(){$["g"](O)})),O.setOption(j),this.Interval=setInterval((function(){t.updateChart()}),2e3)},methods:{updateChart:function(){j.dataset.source=this.$store.state.busVoltage,O.setOption(j)}},beforeDestroy:function(){clearInterval(this.Interval)}},G=N,F=(a("f1bf"),Object(v["a"])(G,S,w,!1,null,"a9241df0",null)),P=F.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.chatShow?a("chatpop",{attrs:{visible:t.chatShow,topic:t.chatTopic},on:{close:function(e){t.chatShow=!1}}}):t._e(),t.lineshowDialog?a("linepop",{attrs:{visible:t.lineshowDialog,type:t.type,id:t.id,name:t.name},on:{close:function(e){t.lineshowDialog=!1}}}):t._e(),t.subshowDialog?a("subpop",{attrs:{visible:t.subshowDialog,children:t.children,type:t.type,id:t.id,name:t.name},on:{close:function(e){t.subshowDialog=!1}}}):t._e()],1)},z=[],W=(a("99af"),a("caad"),a("ac1f"),a("1276"),a("b0c0"),a("e9c4"),a("d81d"),a("2532"),a("25f0"),a("7db0"),a("2f62")),R=a("e813"),H=a.n(R),q=a("2685"),U=a.n(q),Z=a("0adb"),J=a("daa8"),X={},Y={name:"MqttClient",data:function(){return{client:null,usermessage:"Initialized",datamessage:"Initialized",clientid:null,backend_online:null,chatShow:!1,chatTopic:"",id:null,type:null,lineshowDialog:!1,subshowDialog:!1,children:{},name:"",simID:this.$store.state.simID,socket:null}},props:{subtopic:{type:Array||String||Object,default:function(){return["ds/data","ds/note","ds/system","user/schedule","user/share"]}},pubtopic:{type:String||Array||Object,default:"/user/cmd"},address:{type:String,default:"localhost:8083/mqtt"},qos:{type:Number,default:0},protocol:{type:String,default:"ws"},username:{type:String,default:""},password:{type:String,default:""}},created:function(){},mounted:function(){var t=this,e=["/ds/data","/ds/note","/ds/system","/ds/schedule","/ds/share","reply"],a=this.$store.state.loginInfo;console.log(window.location.hostname),console.log(window.location.href),a.direct?this.socket=Object(J["a"])("http://localhost:".concat(a.server_port),{transports:["websocket"]}):this.socket=Object(J["a"])("http://".concat(a.ip,":").concat(a.server_port),{transports:["websocket"]}),this.socket.io.on("error",(function(t){console.log(t)})),this.socket.on("connect",(function(){console.log(t.socket.id),U.a.success({title:"System",message:"Connected",position:"topRight"})})),this.socket.on("disconnect",(function(){console.log(t.socket.id),U.a.error({title:"System",message:"Disconnected",position:"topRight"})})),e.forEach((function(e){t.socket.on(e,(function(a){t.onMessage(e,Object(Z["a"])(a))}))})),this.$store.commit("setSocket",this.socket)},computed:Object(n["a"])({},Object(W["b"])(["getPubStatus","getNewSubscribe","getNewPublish","startsimtrigger","pausesimtrigger","continuesimtrigger","abortsimtrigger","getSchedule","ViolatedBuses","getQuery"])),watch:{getPubStatus:function(t,e){var a={user:this.$store.state.username,type:this.$store.state.message[0],id:this.$store.state.message[1],name:this.$store.state.message[2],action:this.$store.state.message[3]};if(this.socket.emit(this.simID+"/user/cmd",a),this.$store.commit("addReportUser",{time:this.$store.state.currentTime,event:[a.type,a.id,a.action]}),"Gen"==a.type&&["OPEN","CLOSE"].includes(a.action)){var s=a.name.split("#")[0];this.$store.commit("addCost",this.$store.state.areadetail.content.Gen[s]["OperationCost"])}},getQuery:function(t,e){this.socket.emit("query")},getNewSubscribe:function(t,e){var a=this;this.socket.on(t,(function(e){a.onMessage(t,Object(Z["a"])(e))})),U.a.success({title:"System",message:"Successfully subscribed to a new topic #"+t,position:"topRight"})},getNewPublish:function(t,e){this.socket.emit(t[0],"User #"+this.$store.state.username+": "+t[1])},startsimtrigger:function(){this.$store.state.simtime?(this.socket.emit(this.simID+"/user/system",this.$store.state.username+":run till seconds "+this.$store.state.simtime),this.$store.commit("clearsimtime")):this.socket.emit(this.simID+"/user/system",this.$store.state.username+":Start")},continuesimtrigger:function(){this.socket.emit(this.simID+"/user/system",this.$store.state.username+":Continue")},pausesimtrigger:function(){this.socket.emit(this.simID+"/user/system",this.$store.state.username+":Pause")},abortsimtrigger:function(){this.socket.emit(this.simID+"/user/system",this.$store.state.username+":Abort")},backend_online:function(){U.a.success({title:"System",message:"DS is connected",position:"topRight"})},getSchedule:function(t,e){this.socket.emit(this.simID+"/user/schedule",JSON.stringify({user:this.$store.state.username,type:"Import",schedule:t}))}},methods:{onInitClient:function(){this.onGetUUID(),X=mqtt.connect(this.protocol+"://"+this.address,{clientId:this.clientid,username:this.username,password:this.password}),console.log(this.protocol+"://"+this.address),X.on("connect",this.onConnect),X.on("message",this.onMessage),X.on("close",this.onClose),X.on("reconnect",this.onReconnect),X.on("offline",this.onOffline),X.on("error",this.onError),X.on("end",this.onEnd)},onGetUUID:function(){var t=this;H()().get((function(e,a){t.clientid=e.substring(0,4),t.$store.commit("setUUID",t.clientid)}))},onConnect:function(t){var e=this;console.log("Server is connected");var a=this.subtopic;a=a.map((function(t){return e.simID+"/"+t})),X.subscribe(a),console.log(a),U.a.success({title:"System",message:"Server is connected",position:"topRight"})},onMessage:function(t,e){var a=this;if(t.includes("ds/data"))this.$store.commit("updateRawData",e),this.backend_online=!0;else if(t.includes("ds/note")){var s=e.toString().split("@");this.usermessage=s[0],this.$store.state.notMuted&&U.a.warning({title:"System",message:this.usermessage,position:"topCenter",timeout:3e3,buttons:[["<button>What?!</button>",function(){if(a.usermessage.includes("Branch"))a.id=s[1],a.name=s[2],a.type="Branch",a.lineshowDialog=!0;else if(a.usermessage.includes("Load")||a.usermessage.includes("Gen")||a.usermessage.includes("Shunt")){var t;(function(){var e=s[1].split(",")[0];a.name=s[2].split("Bus")[0],a.type="Substation";var i=function(s){if(t=a.$store.state.subDetail[s].Bus.find((function(t){if(t["Int.Bus Number"]==e)return a.id=s,a.children=a.$store.state.subDetail[s].Bus,!0})),t)return a.subshowDialog=!0,"break"};for(var n in a.$store.state.subDetail){var r=i(n);if("break"===r)break}})()}}]]}),this.$store.commit("updatebadge"),this.$store.commit("updatebadgelist",{title:this.usermessage,source:"System",color:"yellow",time:Date.now()})}else if(t.includes("ds/system"))U.a.warning({title:"System",message:e.toString(),position:"topCenter",timeout:6500}),["The simulation has been aborted","The system goes blackout"].includes(e.toString())?(this.$store.commit("setstartready"),e.toString().includes("blackout")&&this.$store.commit("setRIndex",0)):e.toString().includes("The simulation is started")?(this.$store.commit("resetClock"),this.$store.commit("resetReport"),this.$store.commit("resetAreaLoad"),this.$store.commit("resetBusVoltage"),this.$store.commit("resetAction"),this.$store.commit("resetTotalCost"),this.$store.commit("setStartTime",+e.toString().split("@")[1]),this.$store.commit("setstartdisable"),this.$store.commit("flipStartToggler")):e.toString().includes("The simulation has finished")&&this.$store.commit("setSimOver"),this.$store.commit("updatebadge"),this.$store.commit("updatebadgelist",{title:e.toString(),source:"System",color:"red",time:Date.now()});else if(t.includes("user/schedule")){var i=e.toString();this.$store.commit("setSchedule",JSON.parse(i)["schedule"]),U.a.show({title:"Schedule",message:"The import schedule has been changed to "+JSON.parse(i)["schedule"].split("@")[0]+"MW @ $"+JSON.parse(i)["schedule"].split("@")[1]+"/MW",color:"yellow",position:"topCenter"})}else t.includes("reply")?console.log(t,e):(U.a.show({title:e.toString().split(":")[0],message:e.toString().split(":")[1],color:"yellow",position:"topCenter",buttons:[["<button>Chat</button>",function(){a.chatTopic=t,a.chatShow=!0}]]}),this.$store.commit("updatebadge"),this.$store.commit("updatebadgelist",{title:e.toString(),source:"user",color:"light-blue",time:Date.now()}))},onClose:function(){console.log("onClose")},onReconnect:function(){console.log("onReconnect"),U.a.success({title:"System",message:"Server is being reconnected",position:"topRight"})},onOffline:function(){console.log("onOffline"),U.a.error({title:"System",message:"Server is disconnected",position:"topRight"})},onError:function(t){console.log("onError: "+t)},onEnd:function(){console.log("onEnd")}},components:{chatpop:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"351e"))},linepop:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"ab8a"))},subpop:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"65f4"))}}},Q=Y,K=Object(v["a"])(Q,E,z,!1,null,"6c37a9e8",null),tt=K.exports,et=(a("5319"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t[Math.floor(Math.random()*t.length)]}),at=function(t){return(t||"").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},st=function(){var t=window.document,e=t.documentElement,a=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen,s=t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen;t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement?s.call(t):a.call(e)},it={randomElement:et,toggleFullScreen:st,kebab:at},nt=a("d0af"),rt=(a("b64b"),a("159b"),a("07ac"),a("4fadc"),a("b6802"),a("18a5"),a("fb6a"),a("7909")),ot=[],lt=[],ct=[],ut=[],dt=[],ht={data:function(){return{anchor:null,genDataLength:null,show:!1,marginalcost:[],gens:null,areaData:[],areaDataLength:this.$store.state.fieldstore["Area"]["Field"].length,busAnchor:0,busDataLength:0,busArrLength:0,formatRiskBuses:[],busData:[],violateBuses:[],branchData:[],transformerData:[],branchAnchor:0,branchDataLength:0,branchArrLength:0,transformerAnchor:0,transformerDataLength:0,transformerArrLength:0,highRiskLines:{},formatRiskLines:[],subdata:[],linedata:[],transformerDict:[],subdetail:[],busdetail:[],area_index:0,genArray:[],busArray:[],areaBus:{},branchArray:[],transformerArray:[],busIDArray:[4195,4146,4056,4181,4192,4039,4151,4196,4073,4070,4158,4140,4113,4080,4004,4183,4041],busIndexArray:[]}},methods:{before_init:function(){var t=this,e=this.$store.state.casedetail,a=this.$store.state.areadetail,s=0,i=0,n=[],r=[],o=[],l=[];if(this.area_index=Object.keys(this.$store.state.casedetail.content.Area).indexOf(this.$store.state.area.toString()),"dsmDictionary"==e.content.type){for(var c in e.content.Substation)e.content.Substation[c]["Int.Area Number"]==+this.$store.state.area?(o.push(e.content.Substation[c]["Double.Longitude"]),l.push(e.content.Substation[c]["Double.Latitude"]),this.subdata.push({id:c,name:e.content.Substation[c]["String.Name"],value:[e.content.Substation[c]["Double.Latitude"],e.content.Substation[c]["Double.Longitude"]],attributes:{Gen:!1,Shunt:!1},bus:[]})):n.push({name:e.content.Substation[c]["String.Name"],value:[e.content.Substation[c]["Double.Latitude"],e.content.Substation[c]["Double.Longitude"]]});for(var u in this.$store.commit("setCenter",[rt["c"](o),rt["c"](l)]),e.content.Branch){var d=u.split(",")[0],h=u.split(",")[1],m=[[e.content.Substation[e.content.Bus[d]["Int.Sub Number"].toString()]["Double.Latitude"],e.content.Substation[e.content.Bus[d]["Int.Sub Number"].toString()]["Double.Longitude"]],[e.content.Substation[e.content.Bus[h]["Int.Sub Number"].toString()]["Double.Latitude"],e.content.Substation[e.content.Bus[h]["Int.Sub Number"].toString()]["Double.Longitude"]]];[e.content.Branch[u]["FromArea"],e.content.Branch[u]["ToArea"]].includes(+this.$store.state.area)?(this.branchArray.push(i),this.linedata.push({id:u,name:e.content.Substation[e.content.Bus[d]["Int.Sub Number"].toString()]["String.Name"].split("_")[0]+"-"+e.content.Substation[e.content.Bus[h]["Int.Sub Number"].toString()]["String.Name"].split("_")[0],coords:m,count:1,attributes:{MVALimit:e.content.Branch[u]["Single.MVA Limit"],volt:e.content.Bus[d]["Single.Nominal kV"]}})):0==e.content.Branch[u]["Byte.Type"]&&r.push({name:e.content.Substation[e.content.Bus[d]["Int.Sub Number"].toString()]["String.Name"].split("_")[0]+"-"+e.content.Substation[e.content.Bus[h]["Int.Sub Number"].toString()]["String.Name"].split("_")[0],coords:m}),i++}for(var v in e.content.Transformer){var f=v.split(",")[0],b=v.split(",")[1],p=[[e.content.Substation[e.content.Bus[f]["Int.Sub Number"].toString()]["Double.Longitude"],e.content.Substation[e.content.Bus[f]["Int.Sub Number"].toString()]["Double.Latitude"]],[e.content.Substation[e.content.Bus[b]["Int.Sub Number"].toString()]["Double.Longitude"],e.content.Substation[e.content.Bus[b]["Int.Sub Number"].toString()]["Double.Latitude"]]];[e.content.Transformer[v]["FromArea"],e.content.Transformer[v]["ToArea"]].includes(+this.$store.state.area)&&(this.transformerArray.push(i),this.transformerDict.push({id:v,name:e.content.Substation[e.content.Bus[f]["Int.Sub Number"].toString()]["String.Name"].split("_")[0]+"-"+e.content.Substation[e.content.Bus[b]["Int.Sub Number"].toString()]["String.Name"].split("_")[0],coords:p,count:1,attributes:{}})),i++}for(var g in this.$store.state.areadetail.content.Bus)this.$store.state.areadetail.content.Bus[g]["Int.Area Number"]==+this.$store.state.area&&(this.busArray.push(s),this.areaBus[g]=this.$store.state.areadetail.content.Bus[g]),s++;this.subdetail=a.content.Substation,this.busdetail=a.content.Bus;var y=Object.keys(a.content.Bus);this.busIDArray.forEach((function(e){t.busIndexArray.push(y.indexOf(e.toString()))}));var x=Object.keys(a.content.Substation);for(var S in this.subdetail)this.subdetail[S].Bus=[];for(var w in a.content.Gen)this.busdetail[w.split(",")[0]].Gen=a.content.Gen[w],this.subdata[x.indexOf(a.content.Bus[a.content.Gen[w]["Int.Bus Number"].toString()]["Int.Sub Number"].toString())].attributes.Gen=!0;for(var C in a.content.Load)this.busdetail[C.split(",")[0]].Load=a.content.Load[C];for(var $ in a.content.Shunt)this.busdetail[$.split(",")[0]].Shunt=a.content.Shunt[$],this.subdata[x.indexOf(a.content.Bus[a.content.Shunt[$]["Int.Bus Number"].toString()]["Int.Sub Number"].toString())].attributes.Shunt=!0;for(var k in a.content.Bus)this.subdetail[a.content.Bus[k]["Int.Sub Number"]].Bus.push(this.busdetail[k]);this.$store.commit("setSubData",this.subdata),this.$store.commit("setLineData",this.linedata),this.$store.commit("setTransformerDict",this.transformerDict),this.$store.commit("setOtherArea",{Substation:n,Branch:r}),this.$store.commit("updateSubDetail",this.subdetail)}},initRiskBus:function(){var t,e;for(var a in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[a]["Field"].length,e=Object.keys(this.$store.state.areadetail.content[a]),Object.values(this.$store.state.fieldstore[a]),"Bus"==a){this.busDataLength=t*e.length,this.busArrLength=t;break}this.busAnchor+=t*e.length}},onMonitorRiskBus:function(){for(var t=0,e=0,a=Object.entries(this.areaBus);e<a.length;e++){var s=Object(nt["a"])(a[e],2),i=s[0],n=s[1];ct[this.busArray[t]*this.busArrLength]<=n["Single.Max Limit"]||ct[this.busArray[t]*this.busArrLength]>=n["Single.Min Limit"]?(this.violateBuses[i]={},this.violateBuses[i]["name"]=this.$store.state.areadetail.content.Bus[i]["String.Name"],this.violateBuses[i]["Vpu"]=ct[this.busArray[t]*this.busArrLength],this.violateBuses[i]["Max"]=n["Single.Min Limit"],this.violateBuses[i]["Min"]=n["Single.Max Limit"],this.violateBuses[i]["SubID"]=n["Int.Sub Number"],this.violateBuses[i]["value"]=[this.$store.state.areadetail.content.Substation[n["Int.Sub Number"].toString()]["Double.Longitude"],this.$store.state.areadetail.content.Substation[n["Int.Sub Number"].toString()]["Double.Latitude"]]):i in this.violateBuses&&delete this.violateBuses[i],t++}this.formatRiskBuses=Object.values(this.violateBuses),this.$store.commit("setRiskBuses",this.formatRiskBuses)},initRiskBranch:function(){var t,e;for(var a in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[a]["Field"].length,e=Object.keys(this.$store.state.areadetail.content[a]),Object.values(this.$store.state.fieldstore[a]),"Branch"==a){this.branchDataLength=t*e.length,this.branchArrLength=t;break}this.branchAnchor+=t*e.length}},initRiskTransformer:function(){var t,e;for(var a in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[a]["Field"].length,e=Object.keys(this.$store.state.areadetail.content[a]),Object.values(this.$store.state.fieldstore[a]),"Transformer"==a){this.transformerDataLength=t*e.length,this.transformerArrLength=t;break}this.transformerAnchor+=t*e.length}},onMonitorRiskBranch:function(){var t;for(var e in this.linedata)t=this.linedata[e].id,ut[e*this.branchArrLength+3]>=.85*this.linedata[e].attributes.MVALimit?(this.highRiskLines[t]={},this.highRiskLines[t]["name"]=this.$store.state.casedetail.content.Bus[t.split(",")[0]]["String.Name"]+"-"+this.$store.state.casedetail.content.Bus[t.split(",")[1]]["String.Name"],this.highRiskLines[t]["MVA"]=ut[e*this.branchArrLength+3],this.highRiskLines[t]["Ratio"]=(ut[e*this.branchArrLength+3]/this.linedata[e].attributes.MVALimit*100).toFixed(2),this.highRiskLines[t]["MVALimit"]=this.linedata[e].attributes.MVALimit,this.highRiskLines[t]["coords"]=this.linedata[e].coords):t in this.highRiskLines&&delete this.highRiskLines[t];this.formatRiskLines=Object.values(this.highRiskLines),this.$store.commit("setRiskBranches",this.formatRiskLines),this.$store.commit("updateSelectedBranches",this.formatRiskLines)},initData:function(){var t,e=[],a=0;for(var s in this.$store.state.areadetail.content.Gen)this.$store.state.areadetail.content.Gen[s]["Int.Area Number"]==+this.$store.state.area&&(this.genArray.push(a),t=this.$store.state.areadetail.content.Bus[s.split(",")[0]]["Int.Sub Number"],e.push({value:[this.$store.state.areadetail.content.Substation[t.toString()]["Double.Latitude"],this.$store.state.areadetail.content.Substation[t.toString()]["Double.Longitude"]],key:s,name:this.$store.state.areadetail.content.Bus[s.split(",")[0]]["String.Name"],Status:1,vStatus:1,MWMax:this.$store.state.areadetail.content.Gen[s]["Single.MW Max Limit"],MWMin:this.$store.state.areadetail.content.Gen[s]["Single.MW Min Limit"],MW:0,Mvar:0,MWSetpoint:0,VpuSetpoint:1,OperationCost:this.$store.state.areadetail.content.Gen[s]["MarginalCostCoefficients"][1],MarginalCostCoefficients:this.$store.state.areadetail.content.Gen[s]["MarginalCostCoefficients"],MarginalCost:this.$store.state.areadetail.content.Gen[s]["MarginalCostCoefficients"][0],id:this.$store.state.areadetail.content.Gen[s]["String.ID"],AGC:!1})),a++;return ot=e,ot.length>1?Promise.resolve("Table initialized properly"):Promise.reject("Error in initialization")},preProcess:function(){var t,e,a=0;for(var s in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[s]["Field"].length,e=Object.keys(this.$store.state.areadetail.content[s]),"Gen"==s)break;a+=t*e.length,console.log([s,a])}this.anchor=a,this.genDataLength=t},regularLoop:function(){var t=this.rawData;this.$store.commit("setCurrentTime",+t["SOC"]),this.$store.commit("setCurrentStatus",t["Status"]);var e=t.Data;this.$store.commit("setParsedData",e),lt=e.slice(this.area_index*this.areaDataLength,this.area_index*this.areaDataLength+this.areaDataLength),ct=e.slice(this.busAnchor,this.busAnchor+this.busDataLength);var a=["2018/11/29 "+this.$store.state.clockTime];for(var s in this.busIndexArray.forEach((function(t){a.push(ct[9*t]+(Math.random()-.5)/100)})),ut=e.slice(this.branchAnchor,this.branchAnchor+this.branchDataLength),dt=e.slice(this.transformerAnchor,this.transformerAnchor+this.transformerDataLength),this.$store.commit("setBranchData",ut),this.$store.commit("setTransformerData",dt),this.$store.commit("setData",e),this.$store.commit("setAreaData",lt),this.$store.commit("setBusVoltage",a),this.$store.commit("setAreaLoad",["2018/11/29 "+this.$store.state.clockTime,lt[2]]),ot)ot[s].MW=e[this.anchor+6+this.genArray[s]*this.genDataLength],ot[s].Mvar=e[this.anchor+7+this.genArray[s]*this.genDataLength],ot[s].MWSetpoint=e[this.anchor+9+this.genArray[s]*this.genDataLength],ot[s].VpuSetpoint=e[this.anchor+8+this.genArray[s]*this.genDataLength],ot[s].Status=e[this.anchor+5+this.genArray[s]*this.genDataLength],void 0!=this.$store.state.genAction["Gen"][ot[s].key]?this.$store.state.currentTime>=Math.max(this.$store.state.genAction["Gen"][ot[s].key])+3&&(ot[s].vStatus=ot[s].Status):ot[s].vStatus=ot[s].Status;this.$store.commit("updateGenData",ot)},updateMC:function(){for(var t in ot)ot[t].MarginalCost=ot[t].MarginalCostCoefficients[0].toFixed(2);this.$store.commit("updateGenData",ot)},updateTotalCost:function(){var t=this;setInterval((function(){var e=0;if(t.$store.state.schedule?(e=+t.$store.state.schedule.split("@")[0]*+t.$store.state.schedule.split("@")[1],t.$store.commit("setACE",-(+t.$store.state.schedule.split("@")[0]+t.$store.state.areaData[6]))):t.$store.commit("setACE",-t.$store.state.areaData[6]),"running"===t.$store.state.status){var a=0,s=t.$store.state.areaData[2];for(var i in ot)a+=ot[i].MarginalCostCoefficients[0]*ot[i].MW*1+ot[i].MarginalCostCoefficients[1];a+=rt["a"](t.$store.state.ACE,0)*t.$store.state.aceCost+e,t.$store.commit("updateUnitTimeCost",+a.toFixed(0)),a/=120,s=1*s/120,t.$store.commit("addCost",+a.toFixed(0)),t.$store.commit("addMWh",+s.toFixed(2))}}),500)},addAreaHelper:function(){var t={Bus:{anchor:this.busAnchor,length:this.busArrLength,list:this.busArray},Gen:{anchor:this.anchor,length:this.genDataLength,list:this.genArray},Branch:{anchor:this.branchAnchor,length:this.branchArrLength,list:this.branchArray},Transformer:{anchor:this.transformerAnchor,length:this.transformerArrLength,list:this.transformerArray}};this.$store.commit("setAreaHelper",t)}},created:function(){var t=this;this.before_init(),this.preProcess(),this.initData(),this.initRiskBus(),this.initRiskBranch(),this.initRiskTransformer(),this.addAreaHelper(),this.updateTotalCost(),setInterval((function(){var e,a;"running"===t.$store.state.status&&t.$store.commit("addReportData",{time:t.$store.state.currentTime,areaData:lt});var s=0;for(var i in t.$store.state.genData)e=t.$store.state.genData[i].Status,a=t.$store.state.genData[i].MWMax,0==e&&0!=a&&(s+=t.$store.state.genData[i].MWMax);var n=Math.abs(Math.round(t.$store.state.totalCapacity-s-t.$store.state.areaData[0]));t.$store.commit("setGenStat",[n,s])}),1e3),setInterval((function(){"running"===t.$store.state.status&&(t.formatRiskBuses.length>0&&t.$store.commit("addReportViolate",{time:t.$store.state.currentTime,Bus:t.formatRiskBuses}),t.formatRiskLines.length>0&&t.$store.commit("addReportViolate",{time:t.$store.state.currentTime,Branch:t.formatRiskLines}))}),5e3),setInterval((function(){if("running"===t.$store.state.status){var e=0;if(t.formatRiskLines.length)for(var a in t.formatRiskLines)+t.formatRiskLines[a]["Ratio"]>100&&e++;var s=Math.round(50*(Math.exp(-.05*t.formatRiskBuses.length)+Math.exp(-.1*e)));t.$store.commit("setRIndex",s),t.$store.commit("addReportScore",{time:t.$store.state.currentTime,RIndex:s,TCost:t.$store.state.totalCost})}}),1e3)},computed:Object(n["a"])({},Object(W["b"])({rawData:"rawData"})),watch:{rawData:function(){this.regularLoop(),this.onMonitorRiskBus(),this.onMonitorRiskBranch()}},render:function(){return null}},mt=ht,vt=Object(v["a"])(mt,T,B,!1,null,null,null),ft=vt.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},pt=[],gt=a("93c6"),yt=a.n(gt),xt={data:function(){return{anchor:null,genDataLength:null,show:!1,marginalcost:[],gens:null,Interval:null}},methods:{updateAGC:function(){var t=this;this.Interval=setInterval((function(){if("running"==t.$store.state.status&&t.$store.state.ACE){var e=[];for(var a in t.$store.state.genData)t.$store.state.genData[a].AGC&&e.push(t.$store.state.genData[a]);e.length>0&&t.dispatchAGC(e)}}),3e3)},dispatchAGC:function(t){var e;if(t.length>1)for(var a in e=this.$store.state.ACE>0?yt()(t,["MarginalCost"],["asc"]):yt()(t,["MarginalCost"],["desc"]),e){if(e[a].MWSetpoint<e[a].MWMax&&this.$store.state.ACE>0){this.updateSingleAGC(e[a]);break}if(e[a].MWSetpoint>e[a].MWMin&&this.$store.state.ACE<0){this.updateSingleAGC(e[a]);break}}else this.updateSingleAGC(t[0])},updateSingleAGC:function(t){var e,a;e=Math.min(t.MWMax,Math.max(t.MW+this.$store.state.ACE,0)).toFixed(2),e!=t.MWSetpoint&&(a="Set Power "+e+" MW",this.$store.commit("setMessage",["Gen",t.key+","+t.id,t.key+"#"+t.id,a]),this.$store.commit("setPublish"),this.$store.commit("addReportUser",{time:this.$store.state.currentTime,event:["AGC",t.key+","+t.id,a]}))}},created:function(){this.updateAGC()},beforeDestroy:function(){clearInterval(this.Interval)}},St=xt,wt=Object(v["a"])(St,bt,pt,!1,null,null,null),Ct=wt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:"running"===t.status,expression:"status==='running'"}]},[a("marquee-text",{attrs:{repeat:30,duration:10}},[a("span",{staticStyle:{"background-color":"#80e27e","padding-right":"30px","box-sizing":"border-box"}},[t._v("RUNNING")])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"paused"===t.status,expression:"status==='paused'"}]},[a("marquee-text",{attrs:{repeat:30}},[a("span",{staticStyle:{"background-color":"#ffff8b","padding-right":"30px","box-sizing":"border-box"}},[t._v("PAUSED")])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"initialized"===t.status,expression:"status==='initialized'"}]},[a("marquee-text",{attrs:{repeat:30}},[a("span",{staticStyle:{"background-color":"#ffff8b","padding-right":"30px","box-sizing":"border-box"}},[t._v("INITIALIZED")])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"aborted"===t.status,expression:"status==='aborted'"}]},[a("marquee-text",{attrs:{repeat:30}},[a("span",{staticStyle:{"background-color":"#be9c91","padding-right":"30px","box-sizing":"border-box"}},[t._v("ABORTED")])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"finished"===t.status,expression:"status==='finished'"}]},[a("marquee-text",{attrs:{repeat:30}},[a("span",{staticStyle:{"background-color":"#ff5f52","padding-right":"30px","box-sizing":"border-box"}},[t._v("FINISHED")])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"offline"===t.status,expression:"status==='offline'"}]},[a("marquee-text",{attrs:{repeat:30,duration:30}},[a("span",{staticStyle:{"background-color":"#8e8e8e","padding-right":"30px","box-sizing":"border-box"}},[t._v("DISCONNECTED")])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"error"===t.status,expression:"status==='error'"}]},[a("marquee-text",{attrs:{repeat:30,duration:30}},[a("span",{staticStyle:{"background-color":"#ff6f60","padding-right":"30px","box-sizing":"border-box"}},[t._v("DS needs to be reset manually")])])],1)])},kt=[],_t=a("0150"),Dt=a.n(_t),Lt={data:function(){return{content:"offline"}},computed:Object(n["a"])({},Object(W["c"])(["status"])),mounted:function(){},components:{MarqueeText:Dt.a}},At=Lt,Vt=Object(v["a"])(At,$t,kt,!1,null,null,null),Mt=Vt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clock",attrs:{id:"MyClockDisplay"}})},Tt=[],Bt={methods:{showTime:function(){if(this.$store.state.currentTime){var t=new Date(1e3*this.$store.state.currentTime),e=t.getHours(),a=t.getMinutes(),s=t.getSeconds();0==e&&(e=12),a=(60*e+a)%24,e=e<10?"0"+e:e,a=a<10?"0"+a:a,s=s<10?"0"+s:s;var i=a+":"+s+":00";this.$store.commit("setClock",i),document.getElementById("MyClockDisplay").innerText=i,document.getElementById("MyClockDisplay").textContent=i}}},mounted:function(){this.showTime()},computed:Object(n["a"])({},Object(W["b"])(["getCurrentTime"])),watch:{getCurrentTime:function(){this.showTime()}}},Ot=Bt,jt=(a("2904"),Object(v["a"])(Ot,It,Tt,!1,null,null,null)),Nt=jt.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-btn",{on:{click:t.query}},[t._v("query")]),a("v-btn",{on:{click:t.connect}},[t._v("connect")]),a("v-btn",{on:{click:t.send}},[t._v("send")]),a("v-card",{attrs:{elevation:"2"}},[a("v-textarea",{attrs:{solo:"",name:"input-7-4",label:"Solo textarea"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1)},Ft=[],Pt={name:"contact",components:{},data:function(){return{text:"",pc:null,sendChannel:null,receiveChannel:null}},mounted:function(){var t=this;this.$store.state.socket.on("data",(function(e){console.log("Data received: ",e),t.handleSignalingData(e)})),this.$store.state.socket.on("ready",(function(){console.log("Ready"),t.createPeerConnection(),t.sendOffer()}))},methods:{query:function(){this.$store.state.socket.emit("query")},connect:function(){this.$store.state.socket.emit("rtc_connect")},send:function(){this.sendChannel.send(this.text)},createPeerConnection:function(){var t={};try{this.pc=new RTCPeerConnection(t),"1"===this.text?(this.sendChannel=this.pc.createDataChannel("sendChannel"),this.sendChannel.onopen=this.handleSendChannelStatusChange,this.sendChannel.onclose=this.handleSendChannelStatusChange):this.pc.ondatachannel=this.receiveChannelCallback,this.pc.onicecandidate=this.onIceCandidate,console.log("PeerConnection created")}catch(e){console.error("PeerConnection failed: ",e)}},sendData:function(t){this.$store.state.socket.emit("data",t)},sendOffer:function(){console.log("Send offer"),this.pc.createOffer().then(this.setAndSendLocalDescription,(function(t){console.error("Send offer failed: ",t)}))},sendAnswer:function(){console.log("Send answer"),this.pc.createAnswer().then(this.setAndSendLocalDescription,(function(t){console.error("Send answer failed: ",t)}))},setAndSendLocalDescription:function(t){this.pc.setLocalDescription(t),console.log("Local description set"),this.sendData(t)},onIceCandidate:function(t){t.candidate&&(console.log("ICE candidate"),this.sendData({type:"candidate",candidate:t.candidate}))},handleSignalingData:function(t){switch(t.type){case"offer":this.createPeerConnection(),this.pc.setRemoteDescription(new RTCSessionDescription(t)),this.sendAnswer();break;case"answer":this.pc.setRemoteDescription(new RTCSessionDescription(t));break;case"candidate":this.pc.addIceCandidate(new RTCIceCandidate(t.candidate));break}},handleSendChannelStatusChange:function(t){console.log(t)},handleReceiveChannelStatusChange:function(t){console.log(t)},receiveChannelCallback:function(t){this.receiveChannel=t.channel,this.receiveChannel.onmessage=this.handleReceiveMessage,this.receiveChannel.onopen=this.handleReceiveChannelStatusChange,this.receiveChannel.onclose=this.handleReceiveChannelStatusChange},handleReceiveMessage:function(t){console.log(t)}}},Et=Pt,zt=(a("badc"),a("6544")),Wt=a.n(zt),Rt=a("8336"),Ht=a("b0afa"),qt=a("a844"),Ut=Object(v["a"])(Et,Gt,Ft,!1,null,null,null),Zt=Ut.exports;Wt()(Ut,{VBtn:Rt["a"],VCard:Ht["a"],VTextarea:qt["a"]});var Jt={data:function(){return{drawer:!0,dialog:!1,show:!1,startDialog:!1,reportDialog:!1,showToolbar:!0}},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(W["c"])(["rIndex","badge","ready4start","isAdmin","badgeShow"])),Object(W["b"])({simOverFlag:"getSimOver"})),{},{page:function(){return this.$store.getters.page}}),components:{chatpop:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"351e"))},startpop:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"9d90"))},reportpop:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"3ec6"))},MqttClient:tt,Home:function(){return Promise.resolve().then(a.bind(null,"bb51"))},IkView:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"d4b7"))},generator:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"c9be"))},load:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"c52c"))},shunt:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"caea"))},admin:x,NotificationList:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"a95e"))},AGCBot:Ct,branch:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"66f0"))},areastrip:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"7ad9"))},hourlystrip:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"7ad6"))},busstrip:P,oneline:function(){return a.e("manifest").then(a.bind(null,"4009"))},sanddance:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"7df6"))},marquee:Mt,Clock:Nt,generationVis:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"5a8a"))},generationPie:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"582b"))},sysInfo:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"8cf7"))},DataProcessing:ft,contact:Zt},methods:{handleFullScreen:function(){it.toggleFullScreen()},changeHeight:function(t){this.showToolbar=!1}},watch:{show:function(t,e){0==t&&this.$store.commit("resetbadgelist")},simOverFlag:function(){this.reportDialog=!0}},mounted:function(){}},Xt=Jt,Yt=(a("812b"),a("40dc")),Qt=a("5bc1"),Kt=a("4ca6"),te=a("132d"),ee=a("8860"),ae=a("da13"),se=a("8270"),ie=a("5d23"),ne=a("f6c4"),re=a("e449"),oe=a("f774"),le=a("2fa4"),ce=a("2a7f"),ue=Object(v["a"])(Xt,s,i,!1,null,null,null);e["default"]=ue.exports;Wt()(ue,{VAppBar:Yt["a"],VAppBarNavIcon:Qt["a"],VBadge:Kt["a"],VBtn:Rt["a"],VIcon:te["a"],VList:ee["a"],VListItem:ae["a"],VListItemAvatar:se["a"],VListItemContent:ie["a"],VListItemTitle:ie["c"],VMain:ne["a"],VMenu:re["a"],VNavigationDrawer:oe["a"],VSpacer:le["a"],VToolbarTitle:ce["b"]})},"0d5b":function(t,e,a){},"151e":function(t,e,a){},"1c77":function(t,e,a){"use strict";a("b0d9")},"1f77":function(t,e,a){},2:function(t,e){},"221d":function(t,e,a){},"250a":function(t,e,a){},"252c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{lazy:""}},[a("el-tabs",{attrs:{"tab-position":"left"},on:{"tab-click":t.tabclick},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.tabs,(function(e){return a("el-tab-pane",{key:e,attrs:{label:e,lazy:""}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Data ")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.display,"hide-default-footer":""},scopedSlots:t._u([{key:"items",fn:function(e){return t._l(e.item,(function(e){return a("td",{key:e.text,staticClass:"text-xs-right"},[t._v(" "+t._s(e)+" ")])}))}}],null,!0)})],1),"Bus"!=e?a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Control ")]),a("v-form",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:"","align-baseline":""}},[a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.showInput,expression:"showInput"}],attrs:{xs4:""}},[a("v-text-field",{attrs:{disabled:t.InputDisabled,label:"Value",solo:"",clearable:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t.showInput?a("v-flex",{attrs:{xs8:""}},[a("v-overflow-btn",{attrs:{dense:"",items:t.dropdown,label:"Commands",segmented:"",target:"#dropdown-example"},on:{change:t.cmddetection}})],1):a("v-flex",{attrs:{xs12:""}},[a("v-overflow-btn",{attrs:{dense:"",items:t.dropdown,label:"Commands",segmented:"",target:"#dropdown-example"}})],1)],1)],1)],1)],1):t._e()],1)})),1)],1)},i=[],n=a("f3f3"),r=(a("a9e3"),a("d3b7"),a("25f0"),a("caad"),a("2532"),a("ac1f"),a("1276"),a("b0c0"),a("d81d"),a("b64b"),a("fb6a"),a("2f62")),o={props:{name:{},detail:{},subname:{type:String},data:{default:function(){return[]}},show:{},busnum:{type:Number}},data:function(){return{dropdown:[],showInput:!1,InputDisabled:!0,value:null,type:"Bus",display:[],activeObj:"Bus",id:this.detail["Int.Bus Number"].toString(),activeTab:0}},computed:Object(n["a"])(Object(n["a"])({},Object(r["b"])({dataflag:"rawData"})),{},{tabs:function(){var t=["Bus"];for(var e in this.$store.state.areadetail.content.Gen)e.includes(this.name.split(" ")[1])&&t.push("Gen "+e.split(",")[1]);for(var a in this.$store.state.areadetail.content.Load)a.includes(this.name.split(" ")[1])&&t.push("Load "+a.split(",")[1]);for(var s in this.$store.state.areadetail.content.Shunt)s.includes(this.name.split(" ")[1])&&t.push("Shunt "+s.split(",")[1]);return t},headers:function(){return this.$store.state.fieldstore[this.tabs[this.activeTab].split(" ")[0]]["Field"].map((function(t){return{text:t,value:t}}))}}),methods:{getInput:function(t){console.log(t)},cmddetection:function(t){1==this.showInput&&"OPEN"!=t&&"CLOSE"!=t?this.InputDisabled=!1:(this.value=null,this.InputDisabled=!0)},tabclick:function(t){var e=this,a=[];if(this.activeObj=t.label,"Bus"==this.activeObj)this.id=this.detail["Int.Bus Number"].toString();else{var s,i=t.label.split(" ");s=2==i.length?i[1]:i[1]+" "+i[2],this.id=this.name.split(" ")[1]+","+s}this.activeObj.includes("Gen")?(this.activeObj="Gen",this.showInput=!0):this.activeObj.includes("Load")?this.activeObj="Load":this.activeObj.includes("Shunt")&&(this.activeObj="Shunt");var n=function(){var t=r;a.push({text:e.$store.state.tcmcommands[e.activeObj][r],callback:function(){var a=e.$store.state.areadetail.content[e.activeObj][e.id],s=e.$store.state.tcmcommands[e.activeObj][t];e.InputDisabled||(null==e.value&&(e.value=0),s=s.split("xxx")[0]+e.value+s.split("xxx")[1]),e.$store.commit("setMessage",[e.activeObj,a["Int.Bus Number"].toString()+","+a["String.ID"],e.subname+" "+e.name+" #"+a["String.ID"],s]),e.$store.commit("setPublish")}})};for(var r in this.$store.state.tcmcommands[this.activeObj])n();this.dropdown=a},getData:function(){this.type=this.activeObj;var t,e,a=this.$store.state.parsedData,s=0;for(var i in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[i]["Field"].length,e=Object.keys(this.$store.state.areadetail.content[i]),i==this.type){s+=t*e.indexOf(this.id);break}s+=t*e.length}var n=a.slice(s,s+t),r={};for(var o in n)r[this.$store.state.fieldstore[this.type]["Field"][o]]=+n[o];this.display=[r]}},watch:{dataflag:function(){this.show.split("-")[1]===this.name&&this.getData()}}},l=o,c=(a("d206"),a("2877")),u=a("6544"),d=a.n(u),h=a("b0afa"),m=a("99d9"),v=a("a523"),f=a("8fea"),b=a("0e8f"),p=a("4bd4"),g=a("a722"),y=a("de8e"),x=a("8654"),S=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=S.exports;d()(S,{VCard:h["a"],VCardTitle:m["c"],VContainer:v["a"],VDataTable:f["a"],VFlex:b["a"],VForm:p["a"],VLayout:g["a"],VOverflowBtn:y["a"],VTextField:x["a"]})},2904:function(t,e,a){"use strict";a("c831")},"2f03":function(t,e,a){},"2ff3":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"v-widget"}},[a("v-card",[t.enableHeader?a("v-app-bar",{attrs:{color:"transparent",flat:"",dense:""}},[a("v-toolbar-title",[a("h4",[t._v(t._s(t.title))])]),a("v-spacer"),t._t("widget-header-action"),a("v-btn",{attrs:{icon:""},on:{click:t.restore}},[a("v-icon",[t._v("restore")])],1)],2):t._e(),t.enableHeader?a("v-divider"):t._e(),t._t("widget-content"),a("div",{attrs:{id:"container"}},[a("div",{attrs:{id:"lower_map"}})])],2)],1)},i=[],n=a("f3f3"),r=(a("b0c0"),a("2f62")),o=(a("6cc5"),a("22b4")),l=a("1be7"),c=a("f95e"),u=a("14bf"),d=a("acf6"),h=a("0eed"),m=a("2da7"),v=a("abd2");a("a9aa");o["a"]([c["a"],u["a"],d["a"],h["a"],m["a"],v["a"]]);var f="",b="",p={props:{title:{type:String},enableHeader:{type:Boolean,default:!0},contentBg:{type:String,default:"white"},focus:{type:String}},data:function(){return{chart:{},subdata:[],linedata:[],subdetail:[],busdetail:[],mapCenter:[27.4241,-98.4936],map:null}},methods:{initdraw:function(){var t=this,e=[];for(var a in this.transformerDict)e.push([this.transformerDict[a].coords[0][0],this.transformerDict[a].coords[0][1],100]);var s={leaflet:{center:this.mapCenter,maxZoom:18,zoom:7,attributionControl:!1,zoomControl:!1},animation:!1,tooltip:{show:!0,trigger:"item"},visualMap:{show:!1,top:"top",min:50,max:300,seriesIndex:7,calculable:!0,inRange:{color:["#000080","blue","green","yellow","red"]}},series:[{id:"sub",type:"scatter",name:"sub",coordinateSystem:"leaflet",symbol:"circle",symbolSize:function(e,a){return a.data.attributes.Gen&&"Gen"==t.focus?10:a.data.attributes.Shunt&&"Shunt"==t.focus?10:"Load"==t.focus?7:0},z:5,data:this.$store.state.subData,tooltip:{confine:!0,formatter:function(t){return"Substation: "+t.name}},itemStyle:{color:"rgb(200, 40, 0)"}},{id:"lines",name:"lines",type:"lines",coordinateSystem:"leaflet",silent:!1,lineStyle:{width:1,color:function(t){var e;switch(t.data.attributes.volt){case 230:e="#3949ab";break;case 500:e="#e53935";break}return e},opacity:1},tooltip:{confine:!0,formatter:function(t){return"Branch: "+t.name}},emphasis:{lineStyle:{width:2,shadowColor:"rgba(144, 144, 255, 0.5)",shadowBlur:10}},data:this.$store.state.lineData},{id:"vbus",name:"vbus",type:"scatter",coordinateSystem:"leaflet",silent:!1,symbol:"pin",symbolSize:50,itemStyle:{color:"#ff6d00"},label:{show:!0,position:"top",color:"black",formatter:function(t){return void 0!=t.user?t.user+": Bus#"+t.name:"Bus#"+t.name}},data:[]},{id:"shunt",name:"shunt",type:"scatter",coordinateSystem:"leaflet",silent:!1,symbol:"pin",symbolSize:50,itemStyle:{color:"#4caf50"},label:{show:!0,position:"top",color:"black",formatter:function(t){return"Shunt#"+t.name}},data:[]},{id:"violatedLines",name:"violatedLines",type:"lines",coordinateSystem:"leaflet",silent:!0,lineStyle:{width:10,color:"#f44336",shadowColor:"#ccff90",shadowBlur:20,opacity:.5},label:{show:!0,position:"middle",color:"black",formatter:function(t){return"Branch#"+t.name}},data:[]},{id:"gen",name:"gen",type:"scatter",coordinateSystem:"leaflet",silent:!1,symbol:"pin",symbolSize:50,itemStyle:{color:"#1565c0"},label:{show:!0,position:"top",color:"black",formatter:function(t){return"Gen#"+t.name}},data:[]},{id:"load",name:"load",type:"scatter",coordinateSystem:"leaflet",silent:!1,symbol:"pin",symbolSize:50,itemStyle:{color:"#303f9f"},label:{show:!0,position:"top",color:"black",formatter:function(t){return"Load#"+t.name}},data:[]},{id:"heatmap",type:"heatmap",coordinateSystem:"leaflet",data:[],pointSize:10,blurSize:20}]};b=l["l"](document.getElementById("lower_map")),b.setOption(s);var i=b.getModel().getComponent("leaflet").getMap(),n="https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",r={};L.tileLayer(n,r).addTo(i)},getData:function(){var t=this.$store.state.casedetail;if("dsmDictionary"==t.content.type){for(var e in this.subdetail=t.content.Substation,this.busdetail=t.content.Bus,this.subdetail)this.subdetail[e].Bus=[];for(var a in t.content.Gen)this.busdetail[a].Gen=t.content.Gen[a];for(var s in t.content.Load)this.busdetail[s].Load=t.content.Load[s];for(var i in t.content.Shunt)this.busdetail[i].Shunt=t.content.Shunt[i];for(var n in t.content.Bus)this.subdetail[t.content.Bus[n]["Int.Sub Number"]].Bus.push(this.busdetail[n])}},onDrawSub:function(){b.setOption({series:[{id:"sub",data:this.subData}]})},onDrawLines:function(){b.setOption({series:[{id:"lines",data:this.lineData}]})},onDrawTransformers:function(){console.log(this.areaDetail),b.setOption({series:[{id:"heatmap",data:[]}]})},restore:function(){f.flyTo(this.mapCenter,6,{animate:!0,duration:1.5})}},mounted:function(){this.initdraw()},beforeDestroy:function(){try{b.remove(),f.remove()}catch(t){console.log("The chart instance cannot be cleared")}},computed:Object(n["a"])(Object(n["a"])({},Object(r["c"])(["violatedBuses","selectedShunts","violatedLines","selectedGens","selectedLoads","subData","lineData","areaDetail","transformerDict"])),Object(r["b"])({ViolatedBuses:"getViolatedBuses",SelectedShunts:"getSelectedShunts",ViolatedLines:"getViolatedLines",SelectedGens:"getSelectedGens",SelectedLoads:"getSelectedLoads"})),watch:{ViolatedBuses:function(){var t=b._echartsOptions;t.series[2].data=this.violatedBuses,b.setOption(t)},SelectedShunts:function(){b.setOption({series:[{id:"shunt",data:this.selectedShunts}]})},ViolatedLines:function(){b.setOption({series:[{id:"violatedLines",data:this.violatedLines}]})},SelectedGens:function(){b.setOption({series:[{id:"gen",data:this.selectedGens}]})},SelectedLoads:function(){b.setOption({series:[{id:"load",data:this.selectedLoads}]})}}},g=p,y=(a("8790"),a("2877")),x=a("6544"),S=a.n(x),w=a("40dc"),C=a("8336"),$=a("b0afa"),k=a("ce7e"),_=a("132d"),D=a("2fa4"),A=a("2a7f"),V=Object(y["a"])(g,s,i,!1,null,"145b69d9",null);e["a"]=V.exports;S()(V,{VAppBar:w["a"],VBtn:C["a"],VCard:$["a"],VDivider:k["a"],VIcon:_["a"],VSpacer:D["a"],VToolbarTitle:A["b"]})},3:function(t,e){},"351e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Chat")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Topic",required:"",rules:[t.rules.prohibited]},model:{value:t.displayTopic,callback:function(e){t.displayTopic=e},expression:"displayTopic"}})],1),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Content"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterClicked.apply(null,arguments)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(e){return t.subscribe.apply(null,arguments)}}},[t._v("Subscribe")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(e){return t.send.apply(null,arguments)}}},[t._v("Send")])],1)],1)],1)],1)},i=[],n={props:{visible:{type:Boolean,default:!1},topic:{default:""}},data:function(){return{content:"",displayTopic:this.topic,rules:{prohibited:function(t){return"data"!=t&&"user"!=t&&"note"!=t||"Cannot use the reserved topic"}}}},computed:{show:{get:function(){return this.visible},set:function(t){t||(this.display=[],this.childshow=!1,this.$emit("close"))}}},methods:{send:function(){this.$store.commit("setnewpublish",[this.displayTopic,this.content])},subscribe:function(){this.$store.commit("setnewsubscribe",this.displayTopic)},enterClicked:function(){this.send()}}},r=n,o=a("2877"),l=a("6544"),c=a.n(l),u=a("8336"),d=a("b0afa"),h=a("99d9"),m=a("a523"),v=a("169a"),f=a("0e8f"),b=a("a722"),p=a("2fa4"),g=a("8654"),y=Object(o["a"])(r,s,i,!1,null,null,null);e["default"]=y.exports;c()(y,{VBtn:u["a"],VCard:d["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VContainer:m["a"],VDialog:v["a"],VFlex:f["a"],VLayout:b["a"],VSpacer:p["a"],VTextField:g["a"]})},3936:function(t,e,a){},"394a":function(t,e,a){},"3a1f":function(t,e,a){},"3bd4":function(t,e,a){"use strict";a("c393")},"3ec6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{width:"600"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 lighten-2"},[t._v(" Report ")]),a("div",{staticClass:"reportchart",attrs:{id:"reportchart"}}),a("v-card-text",[a("v-textarea",{attrs:{name:"input-7-1",filled:"",label:"Comment (optional)","auto-grow":""},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(e){return t.activate.apply(null,arguments)}}},[t._v("Download")])],1)],1)],1)],1)},i=[],n=a("d0af"),r=(a("d81d"),a("ac1f"),a("1276"),a("d3b7"),a("25f0"),a("b6802"),a("e9c4"),a("3ca3"),a("ddb0"),a("2b3d"),a("9861"),a("a15b"),a("caad"),a("7909")),o=a("22b4"),l=a("1be7"),c=a("3620"),u=a("9394"),d=a("2da7"),h=a("5334"),m=a("3094"),v=a("104d"),f=a("abd2"),b=a("f95e");o["a"]([u["a"],d["a"],h["a"],c["a"],m["a"],v["a"],f["a"],b["a"]]);var p={props:{visible:{type:Boolean,default:!1},topic:{default:""}},data:function(){return{content:"",time:null,comment:null,rules:{prohibited:function(t){return"data"!=t&&"user"!=t&&"note"!=t||"Cannot use the reserved topic"}}}},mounted:function(){this.initChart()},computed:{show:{get:function(){return this.visible},set:function(t){t||(this.display=[],this.childshow=!1,this.$emit("close"))}}},methods:{initChart:function(){var t=this,e=this.$store.state.report.score.map((function(t){return t["time"]-1280941800})),a=this.$store.state.report.score.map((function(t){return t["RIndex"]}));if(a.length){var s,i,n=this.$store.state.report.user.map((function(t){return t["time"]-1280941800})),o=this.$store.state.report.user.map((function(e){return e["event"][0]+" "+t.findName([e["event"][0],e["event"][1].split(",")[0]+","+e["event"][1].split(",")[1]])+": "+e["event"][2]})),c=[];for(var u in n)s=e.indexOf(n[u]),i=a[s],c.push({name:"User",xAxis:s,yAxis:i,emphasis:{label:{show:!0,position:"top",color:"auto",formatter:o[u]}}});var d=l["l"](document.getElementById("reportchart"),"dark");d.setOption({title:{text:"Average RIndex: "+Object(r["b"])(a).toFixed(0).toString(),left:"left"},tooltip:{trigger:"axis"},xAxis:{data:e},yAxis:{splitLine:{show:!1}},toolbox:{left:"center",showTitle:!1,feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},dataZoom:[{startValue:"0"},{type:"inside"}],visualMap:{top:10,right:10,pieces:[{gt:0,lte:60,color:"#7e0023"},{gt:60,lte:80,color:"#f57c00"},{gt:80,lte:90,color:"#ffeb3b"},{gt:90,lte:100,color:"#1b5e20"}],outOfRange:{color:"#999"}},series:[{name:"RIndex",type:"line",id:"line",data:a,markPoint:{symbol:"triangle",symbolSize:8,itemStyle:{color:"yellow"},data:c},markLine:{silent:!0,symbol:"none",data:[{yAxis:60},{yAxis:80},{yAxis:90},{yAxis:100}]}}]})}else console.log("Warning: Empty array!")},activate:function(){this.$store.commit("setReportName",this.$store.state.username),this.$store.commit("setReportComment",this.comment);var t=JSON.stringify({Time:new Date,Content:this.$store.state.report}),e=new Blob([t],{type:"text/plain"}),a=document.createEvent("MouseEvents"),s=document.createElement("a");s.download="UIN-Name-CaseX.json",s.href=window.URL.createObjectURL(e),s.dataset.downloadurl=["text/json",s.download,s.href].join(":"),a.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.dispatchEvent(a),this.show=!1},findName:function(t){var e=Object(n["a"])(t,2),a=e[0],s=e[1];return["Gen","Shunt"].includes(a)?this.$store.state.casedetail.content.Bus[this.$store.state.casedetail.content[a][s]["Int.Bus Number"].toString()]["String.Name"]:s}}},g=p,y=(a("c4d3"),a("2877")),x=a("6544"),S=a.n(x),w=a("8336"),C=a("b0afa"),$=a("99d9"),k=a("169a"),_=a("a722"),D=a("2fa4"),L=a("a844"),A=Object(y["a"])(g,s,i,!1,null,"65a237df",null);e["default"]=A.exports;S()(A,{VBtn:w["a"],VCard:C["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:$["c"],VDialog:k["a"],VLayout:_["a"],VSpacer:D["a"],VTextarea:L["a"]})},4009:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"echarts",attrs:{id:"chart"}})},i=[],n=(a("b0c0"),a("e11e")),r=a.n(n),o=(a("6cc5"),a("22b4")),l=a("1be7"),c=a("f95e"),u=a("14bf"),d=a("2564"),h=a("acf6"),m=a("2da7");a("a9aa");o["a"]([c["a"],u["a"],d["a"],h["a"],m["a"]]);var v="",f={mounted:function(){var t={leaflet:{center:[32,-99.4936],maxZoom:18,zoom:7,renderOnMoving:!0,largeMode:!1},tooltip:{show:!0,trigger:"item"},series:[{id:"sub",type:"effectScatter",name:"sub",coordinateSystem:"leaflet",blendMode:"lighter",symbolSize:5,itemStyle:{color:"#616161"},data:this.$store.state.subData,tooltip:{confine:!0,formatter:function(t){return"Substation: "+t.name}}},{id:"lines",name:"lines",type:"lines",coordinateSystem:"leaflet",animation:!0,progressive:400,progressiveThreshold:1e3,zlevel:1,blendMode:"lighter",lineStyle:{width:2,color:"rgb(200, 35, 45)"},tooltip:{confine:!0,formatter:function(t){return"Branch: "+t.name}},emphasis:{lineStyle:{width:2,shadowColor:"rgba(144, 144, 255, 0.5)",shadowBlur:10}},data:this.$store.state.lineData},{id:"otherSub",type:"scatter",coordinateSystem:"leaflet",blendMode:"lighter",symbolSize:5,itemStyle:{color:"#616161"},data:this.$store.state.otherArea.Substation},{id:"otherBranch",type:"lines",coordinateSystem:"leaflet",progressive:400,progressiveThreshold:1e3,blendMode:"lighter",zlevel:1,lineStyle:{width:2,color:"rgb(200, 35, 45)"},effect:{show:!0,trailLength:.1,symbolSize:1},data:this.$store.state.otherArea.Branch}]};v=l["l"](document.getElementById("chart")),v.setOption(t);var e=v.getModel().getComponent("leaflet").getMap(),a="https://api.mapbox.com/styles/v1/mapbox/dark-v9/tiles/256/{z}/{x}/{y}?access_token={accessToken}",s={accessToken:"pk.eyJ1IjoibXp5MjI0MCIsImEiOiJjamttc3VsODYyZmI4M2ttbGxmbzFudGM2In0.0dy22s32n9eth_63nlX1UA"};r.a.tileLayer(a,s).addTo(e);var i=r.a.control({position:"topright"});i.onAdd=function(t){for(var e=r.a.DomUtil.create("div","legend legend-background"),a=["Substation","Substation w/ generator","Substation w/ shunt"],s=["rgb(34, 47, 151)","rgb(197, 62, 21)","rgb(119, 93, 86)"],i=0;i<a.length;i++)e.innerHTML+='<span class="circle" style="background:'+s[i]+'"></span>'+a[i]+"<br>";return e},i.addTo(e)},methods:{}},b=f,p=(a("b253"),a("2877")),g=Object(p["a"])(b,s,i,!1,null,"6096094c",null);e["default"]=g.exports},"43eb":function(t,e,a){"use strict";a("221d")},"463b":function(t,e,a){"use strict";a("cd00")},"53c7":function(t,e,a){"use strict";a("e431")},"582b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("genPie")],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xl":"","text-xs-center":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg6:"",sm12:"",xs12:""}},[a("pieDistribute",{attrs:{areatotal:t.areaData[0]}})],1),a("v-flex",{attrs:{lg6:"",sm12:"",xs12:""}},[a("v-chart",{attrs:{option:t.genPie,theme:t.theme,autoresize:""}})],1)],1)],1)},r=[],o=a("f3f3"),l=a("fc11"),c=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chartdiv",attrs:{id:"pie"}})}),u=[],d=(a("a9e3"),a("b64b"),a("18a5"),a("c0a4")),h=a.n(d),m=a("22b4"),v=a("1be7"),f=a("49bb"),b=a("9394"),p=a("2da7"),g=a("ff32"),y=a("f95e");m["a"]([b["a"],p["a"],g["a"],f["a"],y["a"]]);var x={props:{areatotal:Number},data:function(){return{chart:"",anchor:0,genDataLength:0,color:h.a,Process:null}},methods:{preProcess:function(){var t,e,a=0;for(var s in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[s]["Field"].length,e=Object.keys(this.$store.state.areadetail.content[s]),"Gen"==s)break;a+=t*e.length}this.anchor=a,this.genDataLength=t},initdraw:function(){this.chart=v["l"](document.getElementById("pie"),"dark"),this.chart.setOption({title:{text:"Area Generation Overview",textStyle:{fontSize:24},x:"center"},legend:{bottom:20},color:[this.color.lightBlue.base,this.color.indigo.base,this.color.pink.base],series:[{id:"pie",type:"pie",center:["50%","50%"],radius:["30%","60%"],selectedMode:"single",label:{position:"outside",formatter:"{a|{b}}\n{hr|}\n{c|{c} MW}\n{hr|}\n{per|{d}%}{abg|}",backgroundColor:"#eee",borderColor:"#aaa",borderWidth:1,borderRadius:4,rich:{a:{color:"#000",lineHeight:22,align:"center"},abg:{backgroundColor:"#333",width:"100%",align:"right",height:15,borderRadius:[0,0,4,4]},hr:{borderColor:"#aaa",width:"100%",borderWidth:.5,height:0},b:{fontSize:16,lineHeight:33},c:{color:"#999",lineHeight:20,align:"center"},per:{color:"#eee",align:"center"}}},labelLine:{show:!0},data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})},updateData:function(){try{this.chart.setOption({series:{id:"pie",data:[{value:Math.round(this.areatotal),name:"Current Generation"},{value:this.$store.state.genStat[0],name:"Online Capacity"},{value:Math.round(this.$store.state.genStat[1]),name:"Offline Capacity"}]}})}catch(t){console.log(t)}},resizeChart:function(){var t=this;window.onresize=function(){t.chart&&t.chart.resize()}}},created:function(){},mounted:function(){var t=this;this.initdraw(),this.preProcess(),this.resizeChart(),this.Process=setInterval((function(){t.updateData()}),1e3)},beforeDestroy:function(){clearInterval(this.Process),this.chart.clear()}},S=x,w=(a("8f59"),a("2877")),C=Object(w["a"])(S,c,u,!1,null,"27f9a5e2",null),$=C.exports,k=a("2f62"),_=a("4cb5"),D=a("4b2a"),L=a("5c7f");Object(m["a"])([y["a"],_["a"],b["a"],p["a"],D["a"],g["a"]]);var A={name:"genpie",components:{VChart:L["b"],pieDistribute:$},provide:Object(l["a"])({},L["a"],"dark"),data:function(){return{theme:"dark",genName:[],genVal:[]}},methods:{initGenPlot:function(){for(var t in console.log(this.$store.state),this.$store.state.genData)this.genName.push(this.$store.state.genData[t]["name"]),this.genVal.push({name:this.$store.state.genData[t]["name"],value:this.$store.state.genData[t]["MW"]})},updateGenPlot:function(){try{var t=[];for(var e in this.$store.state.genData)this.genName.push(this.$store.state.genData[e]["name"]),t.push({name:this.$store.state.genData[e]["name"],value:this.$store.state.genData[e]["MW"]}),this.genVal=t}catch(a){console.log(a)}}},mounted:function(){var t=this;this.initGenPlot(),this.Process=setInterval((function(){t.updateGenPlot()}),1e3)},computed:Object(o["a"])(Object(o["a"])({},Object(k["c"])(["areaData"])),{},{genPie:function(){return{title:{text:"Current Generation Distribution (By Generator)",textStyle:{fontSize:24},x:"center"},grid:{right:"3%",left:"3%",bottom:100},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"scroll",orient:"horizontal",bottom:20,data:this.genName},series:[{name:"Current Generation",data:this.genVal,type:"pie"}]}}}),beforeDestroy:function(){clearInterval(this.Process)}},V=A,M=(a("43eb"),a("6544")),I=a.n(M),T=a("a523"),B=a("0e8f"),O=a("a722"),j=Object(w["a"])(V,n,r,!1,null,null,null),N=j.exports;I()(j,{VContainer:T["a"],VFlex:B["a"],VLayout:O["a"]});var G={components:{genPie:N}},F=G,P=(a("7ab7"),Object(w["a"])(F,s,i,!1,null,null,null));e["default"]=P.exports},"5a8a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("barPlot")],1)},i=[],n=a("a498"),r={name:"vis",components:{barPlot:n["a"]}},o=r,l=(a("f717"),a("2877")),c=Object(l["a"])(o,s,i,!1,null,null,null);e["default"]=c.exports},"5bcf":function(t,e,a){},"5eb5":function(t,e,a){},"5f48":function(t,e,a){},6441:function(t,e,a){"use strict";a("5bcf")},"65f4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{key:t.id,attrs:{width:"900"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-toolbar",{attrs:{dark:"",flat:""},scopedSlots:t._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{centered:""},model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}},[a("v-tabs-slider",{attrs:{color:"brown"}}),a("v-tab",{key:"General",attrs:{href:"#tab-General"},on:{click:function(e){t.childshow=!1,t.atDefault=!0}}},[t._v("General")]),t._l(t.tabs,(function(e){return a("v-tab",{key:e,attrs:{href:"#tab-"+e},on:{click:function(e){t.atDefault=!1}}},[t._v(t._s(e))])}))],2)]},proxy:!0}])},[a("v-toolbar-title",[t._v(t._s(t.name)+" "+t._s(t.volt)+" "+t._s(t.type))])],1),a("v-tabs-items",{model:{value:t.currentItem,callback:function(e){t.currentItem=e},expression:"currentItem"}},[a("v-tab-item",{key:"General",attrs:{value:"tab-General"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Data ")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.display,"hide-default-footer":"",lazy:""},scopedSlots:t._u([{key:"items",fn:function(e){return t._l(e.item,(function(e){return a("td",{key:e.text,staticClass:"text-xs-right"},[t._v(" "+t._s(e)+" ")])}))}}])})],1),a("v-card")],1),t._l(t.tabs,(function(e,s){return a("v-tab-item",{key:e,attrs:{value:"tab-"+e}},[t.show?a("popchild",{attrs:{name:e,detail:t.children[s],subname:t.name,show:t.currentItem,lazy:""}}):t._e()],1)}))],2)],1)],1)},i=[],n=a("f3f3"),r=(a("d81d"),a("d3b7"),a("25f0"),a("b64b"),a("fb6a"),a("3ca3"),a("ddb0"),a("2f62")),o={data:function(){var t=this.$store.state.fieldstore.Substation["Field"].map((function(t){return{text:t,value:t}}));return{dropdown:[],currentItem:"tab-General",display:[],atDefault:!0,childshow:!1,headers:t}},props:{visible:{type:Boolean,default:!1},type:{type:String},id:{type:String},name:{type:String},volt:{type:String},children:{}},computed:Object(n["a"])(Object(n["a"])({},Object(r["b"])({dataflag:"rawData"})),{},{show:{get:function(){return this.visible},set:function(t){t||(this.display=[],this.childshow=!1,this.$emit("close"))}},tabs:function(){var t=[];for(var e in this.children)t.push("Bus "+this.children[e]["Int.Bus Number"].toString());return t}}),methods:{getData:function(){var t,e,a=this.$store.getters.rawData,s=0,i=a.Data;for(var n in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[n]["Field"].length,e=Object.keys(this.$store.state.areadetail.content[n]),n==this.type){s+=t*e.indexOf(this.id);break}s+=t*e.length}var r=i.slice(s,s+t),o={};for(var l in r)o[this.$store.state.fieldstore[this.type]["Field"][l]]=r[l];this.display=[o]}},watch:{dataflag:function(){this.show&&this.atDefault&&this.getData()}},components:{popchild:function(){return Promise.all([a.e("vendor"),a.e("manifest")]).then(a.bind(null,"252c"))}}},l=o,c=a("2877"),u=a("6544"),d=a.n(u),h=a("b0afa"),m=a("99d9"),v=a("8fea"),f=a("169a"),b=a("71a3"),p=a("c671"),g=a("fe57"),y=a("aac8"),x=a("9a96"),S=a("71d9"),w=a("2a7f"),C=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=C.exports;d()(C,{VCard:h["a"],VCardTitle:m["c"],VDataTable:v["a"],VDialog:f["a"],VTab:b["a"],VTabItem:p["a"],VTabs:g["a"],VTabsItems:y["a"],VTabsSlider:x["a"],VToolbar:S["a"],VToolbarTitle:w["b"]})},"66f0":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"align-center layout px-4 pt-4 app--page-header",attrs:{row:""}},[a("div",{staticClass:"page-header-left"},[a("h3",{staticClass:"pr-3"},[t._v("Branch")])]),a("v-icon",{attrs:{larg:""}},[t._v("mdi-currency-usd")]),a("v-spacer"),a("userInfo")],1),a("v-container",{attrs:{"grid-list-xl":"","text-xs-center":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg8:"",sm12:"",xs12:""}},[a("branchtable",{attrs:{title:"Realtime Data"}})],1),a("v-flex",{attrs:{lg4:"",sm12:"",xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("MapWidget",{attrs:{title:"Location Assist"}})],1),a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("v-widget",{attrs:{title:"GMD","content-bg":"dark"}},[a("div",{attrs:{slot:"widget-header-action"},slot:"widget-header-action"},[a("v-switch",{staticClass:"mt-3",model:{value:t.GMDSwitch,callback:function(e){t.GMDSwitch=e},expression:"GMDSwitch"}})],1),a("div",{attrs:{slot:"widget-content"},slot:"widget-content"},[a("v-card",{attrs:{flat:"",color:"transparent"}},[a("v-card-title",[t._v("Johnsonville - Nashville")]),a("v-subheader",[t._v(t._s(t.lapse))]),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{sm9:""}},[a("v-slider",{attrs:{max:t.max,min:t.min},model:{value:t.slider,callback:function(e){t.slider=e},expression:"slider"}})],1),a("v-flex",{attrs:{sm3:""}},[a("v-text-field",{staticClass:"mt-0",attrs:{suffix:"s","hide-details":"","single-line":"",type:"number"},model:{value:t.slider,callback:function(e){t.slider=e},expression:"slider"}})],1)],1)],1)],1)],1)])],1),a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("bustable",{attrs:{title:"Violating Buses"}})],1)],1)],1)],1)],1)],1)},i=[],n=a("f3f3"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-app-bar",{attrs:{flat:"",dense:"",color:"transparent"}},[a("v-toolbar-title",[a("h4",[t._v(t._s(t.title))])]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("more_vert")])],1)],1),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[[a("v-data-table",{staticClass:"fixed-header",attrs:{headers:t.headers,items:t.branches,"items-per-page-options":t.defaultRowItems,"show-select":"","item-key":"name"},scopedSlots:t._u([{key:"item.Actions",fn:function(e){var s=e.item;return[a("v-switch",{staticClass:"mt-3",attrs:{disabled:t.disable},nativeOn:{click:function(e){return t.toggle(s)}},model:{value:s.vStatus,callback:function(e){t.$set(s,"vStatus",e)},expression:"item.vStatus"}})]}},{key:"headerCell",fn:function(e){return[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(e.header.text))])]}},{key:"items",fn:function(e){return[a("tr",{attrs:{active:e.selected},on:{click:function(t){e.selected=!e.selected}}},[a("td",[a("v-checkbox",{attrs:{"input-value":e.selected,primary:"","hide-details":""}})],1),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.vStatus))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.MWFrom))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.MvarFrom))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.MVAFrom))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.AmpsFrom))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.MVALimit))])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],a("v-divider")],2)],1)},o=[],l=(a("b64b"),a("18a5"),a("caad"),a("2532"),a("ac1f"),a("1276"),a("d3b7"),{props:{title:String},data:function(){return{headers:[{text:"Branch",align:"left",value:"name",width:"15%"},{text:"Status",value:"Status"},{text:"MWFrom",value:"MWFrom"},{text:"MvarFrom",value:"MvarFrom"},{text:"MVAFrom",value:"MVAFrom"},{text:"AmpsFrom",value:"AmpsFrom"},{text:"MVA Limit",value:"MVALimit"},{text:"Actions",value:"Actions",sortable:!1}],branches:[],selected:[],anchor:0,branchDataLength:0,defaultRowItems:[15,30,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],branchArray:this.$store.state.areaHelper.Branch.list,Interval:null}},methods:{preProcess:function(){var t,e,a=0;for(var s in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[s]["Field"].length,e=Object.keys(this.$store.state.areadetail.content[s]),"Branch"==s)break;a+=t*e.length}this.anchor=a,this.branchDataLength=t},initTable:function(){var t=[];for(var e in this.anchor=this.$store.state.areaHelper.Branch.anchor,this.branchDataLength=this.$store.state.areaHelper.Branch.length,this.$store.state.areadetail.content.Branch)[this.$store.state.areadetail.content.Branch[e]["FromArea"],this.$store.state.areadetail.content.Branch[e]["ToArea"]].includes(+this.$store.state.area)&&t.push({value:!1,key:e,name:this.$store.state.casedetail.content.Bus[e.split(",")[0]]["String.Name"]+"-"+this.$store.state.casedetail.content.Bus[e.split(",")[1]]["String.Name"],id:this.$store.state.areadetail.content.Branch[e]["String.CircuitID"],Status:1,vStatus:1,MWFrom:0,MvarFrom:0,MVAFrom:0,AmpsFrom:0,MWTo:0,MvarTo:0,MVATo:0,AmpsTo:0,MVALimit:this.$store.state.areadetail.content.Branch[e]["Single.MVA Limit"]});return this.branches=t,this.branches.length>1?Promise.resolve("Table initialized properly"):Promise.reject("Error in initialization")},updateTable:function(){var t=this;this.Interval=setInterval((function(){try{for(var e in t.branches)t.branches[e].Status=t.$store.state.branchData[0+e*t.branchDataLength],t.branches[e].MWFrom=t.$store.state.branchData[1+e*t.branchDataLength],t.branches[e].MvarFrom=t.$store.state.branchData[2+e*t.branchDataLength],t.branches[e].MVAFrom=t.$store.state.branchData[3+e*t.branchDataLength],t.branches[e].AmpsFrom=t.$store.state.branchData[4+e*t.branchDataLength],t.branches[e].MWTo=t.$store.state.branchData[5+e*t.branchDataLength],t.branches[e].MvarTo=t.$store.state.branchData[6+e*t.branchDataLength],t.branches[e].MVATo=t.$store.state.branchData[7+e*t.branchDataLength],t.branches[e].AmpsTo=t.$store.state.branchData[8+e*t.branchDataLength],void 0!=t.$store.state.genAction["Branch"][t.branches[e].key]?t.$store.state.currentTime>=Math.max(t.$store.state.genAction["Branch"][t.branches[e].key])+3&&(t.branches[e].vStatus=t.branches[e].Status):t.branches[e].vStatus=t.branches[e].Status}catch(a){console.log("The raw data are not ready")}}),500)},toggle:function(t){var e;t.vStatus?(t.vStatus=1,e="CLOSE BOTH"):(t.vStatus=0,e="OPEN BOTH"),this.$store.commit("setMessage",["Branch",t.key,t.key,e]),this.$store.commit("recordAction",["Branch",t.key]),this.$store.commit("setPublish")}},created:function(){},mounted:function(){var t=this;this.initTable().then((function(){return t.updateTable()}))},watch:{selected:function(t,e){this.$store.commit("updateSelectedShunts",t)}},computed:{disable:function(){return"running"!=this.$store.state.status}},beforeDestroy:function(){clearInterval(this.Interval)}}),c=l,u=(a("022f"),a("2877")),d=a("6544"),h=a.n(d),m=a("40dc"),v=a("8336"),f=a("b0afa"),b=a("99d9"),p=a("ac7c"),g=a("8fea"),y=a("ce7e"),x=a("132d"),S=a("2fa4"),w=a("b73d"),C=a("2a7f"),$=Object(u["a"])(c,r,o,!1,null,"5c599dda",null),k=$.exports;h()($,{VAppBar:m["a"],VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCheckbox:p["a"],VDataTable:g["a"],VDivider:y["a"],VIcon:x["a"],VSpacer:S["a"],VSwitch:w["a"],VToolbarTitle:C["b"]});var _=a("7b21"),D=a("129e"),L=a("2ff3"),A=a("5372"),V=a("2f62"),M={name:"branch",data:function(){return{min:0,max:250,slider:this.$store.state.slider,triggered:!1,GMDSwitch:!1}},components:{branchtable:k,VWidget:D["a"],bustable:_["a"],MapWidget:L["a"],userInfo:A["a"]},computed:Object(n["a"])(Object(n["a"])({},Object(V["c"])(["lapse"])),Object(V["b"])({timelapse:"getLapse"})),watch:{timelapse:function(){this.$store.state.lapse<+this.slider&&this.triggered&&(this.triggered=!1),this.$store.state.lapse>=+this.slider&&!this.triggered&&this.GMDSwitch&&(this.$store.commit("setMessage",["Branch","144,101,1","Johnsonville - Nashville","OPEN BOTH"]),this.$store.commit("setPublish"),this.triggered=!0)}}},I=M,T=(a("f9e5"),a("a523")),B=a("0e8f"),O=a("a722"),j=a("ba0d"),N=a("e0c7"),G=a("8654"),F=Object(u["a"])(I,s,i,!1,null,null,null);e["default"]=F.exports;h()(F,{VCard:f["a"],VCardText:b["b"],VCardTitle:b["c"],VContainer:T["a"],VFlex:B["a"],VIcon:x["a"],VLayout:O["a"],VSlider:j["a"],VSpacer:S["a"],VSubheader:N["a"],VSwitch:w["a"],VTextField:G["a"]})},"6a1a":function(t,e,a){"use strict";a("cb03")},"6b26":function(t,e,a){},"6bd9":function(t,e,a){},"75d0":function(t,e,a){"use strict";a("6b26")},"760f":function(t,e,a){"use strict";a("0d5b")},7768:function(t,e,a){"use strict";a("788c")},"788c":function(t,e,a){},"7ab7":function(t,e,a){"use strict";a("2f03")},"7ad6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-chart",{attrs:{options:t.option,theme:"dark",autoresize:!0}})},i=[],n=a("fc11"),r=(a("fb6a"),a("22b4")),o=a("f95e"),l=a("3620"),c=a("9394"),u=a("2da7"),d=a("4b2a"),h=a("5334"),m=a("5c7f");Object(r["a"])([o["a"],l["a"],c["a"],u["a"],d["a"],h["a"]]);var v={name:"hourlystrip",components:{VChart:m["b"]},provide:Object(n["a"])({},m["a"],"dark"),data:function(){var t;return{option:{title:{text:"Hourly Area Load",left:"center",top:"20",textStyle:{fontSize:24}},grid:{left:"3%",right:"3%",top:80},xAxis:[{type:"time",boundaryGap:!1,axisLine:{show:!1}}],yAxis:{type:"value",boundaryGap:!1,axisLine:{show:!1}},animation:!1,series:[(t={type:"line",id:"real",name:"Actual Load",symbolSize:10,smooth:!0,sampling:"average",itemStyle:{color:"rgb(255, 158, 68)"},lineStyle:{type:"solid"}},Object(n["a"])(t,"sampling","average"),Object(n["a"])(t,"data",[]),t)]}}},mounted:function(){var t=this;this.Interval=setInterval((function(){t.updateChart()}),1e3)},methods:{updateChart:function(){this.$store.state.areaLoad.length<=119?this.option.series[0].data=this.$store.state.areaLoad:this.option.series[0].data=this.$store.state.areaLoad.slice(-119)}},beforeDestroy:function(){clearInterval(this.Interval)}},f=v,b=(a("7768"),a("2877")),p=Object(b["a"])(f,s,i,!1,null,"2e0af50d",null);e["default"]=p.exports},"7ad9":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-chart",{attrs:{options:t.option,theme:"dark",autoresize:!0}})],1)},i=[],n=a("fc11"),r=(a("fb6a"),a("22b4")),o=a("f95e"),l=a("3620"),c=a("9394"),u=a("2da7"),d=a("ff32"),h=a("4b2a"),m=a("5334"),v=a("5e81"),f=a("5c7f");Object(r["a"])([o["a"],l["a"],c["a"],u["a"],d["a"],h["a"],m["a"],v["a"]]);var b={name:"areastrip2",components:{VChart:f["b"]},provide:Object(n["a"])({},f["a"],"dark"),data:function(){var t,e;return{option:{title:[{text:"System Area Load",textAlign:"center",top:20,x:"25%",textStyle:{fontSize:44}},{text:"Hourly Area Load",textAlign:"center",top:20,x:"75%",textStyle:{fontSize:44}},{text:"Bus Voltage",left:"center",top:"55%",textStyle:{fontSize:44}}],legend:{top:"bottom",textStyle:{fontSize:20},data:["4195","4146","4056","4181","4192","4039","4151","4196","4073","4070","4158","4140","4113","4080","4004","4183","4041"]},grid:[{left:"3%",top:80,bottom:"55%",width:"45%"},{right:"3%",top:80,bottom:"55%",width:"45%"},{left:"3%",right:"3%",top:"60%"}],xAxis:[{type:"time",boundaryGap:!1,axisLine:{show:!1}},{type:"time",boundaryGap:!1,axisLine:{show:!1},gridIndex:1},{type:"time",boundaryGap:!1,axisLine:{show:!1},gridIndex:2}],yAxis:[{type:"value",boundaryGap:!1,axisLine:{show:!1}},{type:"value",boundaryGap:!1,axisLine:{show:!1},gridIndex:1},{type:"value",boundaryGap:!1,axisLine:{show:!1},min:0,max:1.2,gridIndex:2}],tooltip:{trigger:"axis"},animation:!1,dataset:{dimensions:["date","4195","4146","4056","4181","4192","4039","4151","4196","4073","4070","4158","4140","4113","4080","4004","4183","4041"],source:[]},series:[(t={type:"line",id:"area",name:"Actual Load",showSymbol:!1,sampling:"average",itemStyle:{color:"rgb(255, 158, 68)"},lineStyle:{type:"solid"}},Object(n["a"])(t,"sampling","average"),Object(n["a"])(t,"data",[]),t),(e={type:"line",id:"hourly",name:"Hourly Load",showSymbol:!1,smooth:!0,sampling:"average",itemStyle:{color:"rgb(255, 100, 100)"},lineStyle:{type:"solid"}},Object(n["a"])(e,"sampling","average"),Object(n["a"])(e,"data",[]),Object(n["a"])(e,"xAxisIndex",1),Object(n["a"])(e,"yAxisIndex",1),e),{type:"line",name:"4195",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4195"},xAxisIndex:2,yAxisIndex:2,markLine:{silent:!0,symbol:"none",label:{show:!1},data:[{yAxis:.9},{yAxis:1.05}]}},{type:"line",name:"4146",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4146"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4056",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4056"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4181",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4181"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4192",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4192"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4039",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4039"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4151",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4151"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4196",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4196"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4073",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4073"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4070",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4070"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4158",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4158"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4140",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4140"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4113",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4113"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4080",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4080"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4004",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4004"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4183",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4183"},xAxisIndex:2,yAxisIndex:2},{type:"line",name:"4041",sampling:"average",smooth:!0,showSymbol:!1,encode:{x:"date",y:"4041"},xAxisIndex:2,yAxisIndex:2}]}}},mounted:function(){var t=this;this.Interval=setInterval((function(){t.updateChart()}),1e3)},methods:{updateChart:function(){this.option.series[0].data=this.$store.state.areaLoad,this.$store.state.areaLoad.length<=119?this.option.series[1].data=this.$store.state.areaLoad:this.option.series[1].data=this.$store.state.areaLoad.slice(-119),this.option.dataset.source=this.$store.state.busVoltage}},beforeDestroy:function(){clearInterval(this.Interval)}},p=b,g=(a("a535"),a("2877")),y=Object(g["a"])(p,s,i,!1,null,"641c6adc",null);e["default"]=y.exports},"7b21":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-app-bar",{attrs:{flat:"",dense:"",color:"transparent"}},[a("v-toolbar-title",[a("h4",[t._v(t._s(t.title))])]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("more_vert")])],1)],1),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[[a("v-data-table",{attrs:{headers:t.headers,items:t.riskBuses,"items-per-page-options":t.defaultRowItems,"show-select":"","item-key":"name"},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(" "+t._s(e.header.text)+" ")]),a("span",[t._v(" "+t._s(e.header.text)+" ")])])]}},{key:"item.Vpu",fn:function(e){var s=e.item;return[a("v-chip",{attrs:{label:"",small:"",color:t.getColorByValue(s.Vpu),"text-color":"white"}},[t._v(t._s(s.Vpu))])]}},{key:"items",fn:function(e){return[a("tr",{attrs:{active:e.selected},on:{click:function(t){e.selected=!e.selected}}},[a("td",[a("v-checkbox",{attrs:{"input-value":e.selected,primary:"","hide-details":""}})],1),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.Max))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.Min))])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},[a("template",{slot:"no-data"},[a("v-card",{attrs:{dark:"",color:"success"}},[a("v-card-text",[t._v(" Currently no violating buses! ")])],1)],1)],2)],a("v-divider")],2)],1)},i=[],n=a("d0af"),r=a("f3f3"),o=(a("b64b"),a("07ac"),a("18a5"),a("cb29"),a("fb6a"),a("4fadc"),a("b0c0"),a("d3b7"),a("25f0"),a("2f62")),l={props:{data:Array,title:String},data:function(){return{headers:[{text:"Bus",align:"left",value:"name"},{text:"Vpu",value:"Vpu"},{text:"Max",value:"Max"},{text:"Min",value:"Min"}],buses:[],formatRiskBuses:[],anchor:0,dataLength:0,arrLength:0,violateBuses:[],selected:[],defaultRowItems:[10,30,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}]}},computed:Object(r["a"])({},Object(o["c"])(["riskBuses"])),methods:{initMonitor:function(){var t,e,a;for(var s in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[s]["Field"].length,e=Object.keys(this.$store.state.casedetail.content[s]),a=Object.values(this.$store.state.fieldstore[s]),"Bus"==s){this.dataLength=t*e.length,this.statusIndex=a.indexOf("Status"),this.mwfromIndex=a.indexOf("MWFrom"),this.arrLength=t;break}this.anchor+=t*e.length}this.statusArray=Array(e.length).fill(1)},onMonitor:function(){for(var t=this.$store.getters.rawData,e=t.slice(this.anchor,this.anchor+this.dataLength),a=0,s=0,i=Object.entries(this.$store.state.casedetail.content.Bus);s<i.length;s++){var r=Object(n["a"])(i[s],2),o=r[0],l=r[1];e[a]<=l["Single.Max Limit"]||e[a]>=l["Single.Min Limit"]?(this.violateBuses[o]={},this.violateBuses[o]["name"]=o,this.violateBuses[o]["Vpu"]=e[a],this.violateBuses[o]["Max"]=l["Single.Min Limit"],this.violateBuses[o]["Min"]=l["Single.Max Limit"],this.violateBuses[o]["SubID"]=l["Int.Sub Number"],this.violateBuses[o]["value"]=[this.$store.state.casedetail.content.Substation[l["Int.Sub Number"].toString()]["Double.Longitude"],this.$store.state.casedetail.content.Substation[l["Int.Sub Number"].toString()]["Double.Latitude"]]):o in this.violateBuses&&delete this.violateBuses[o],a+=this.arrLength}this.formatRiskBuses=Object.values(this.violateBuses)},getColorByValue:function(t){var e;return t>=1.1?e="red":t<.9&&(e="blue"),e},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.desserts.slice()}},created:function(){},mounted:function(){},watch:{selected:function(t,e){this.$store.commit("updateVBuses",t)},data:function(t,e){this.data.length>0?this.$store.commit("triggerAlarm","Bus"):this.$store.commit("dismissAlarm","Bus")}}},c=l,u=(a("a814"),a("2877")),d=a("6544"),h=a.n(d),m=a("40dc"),v=a("8336"),f=a("b0afa"),b=a("99d9"),p=a("ac7c"),g=a("cc20"),y=a("8fea"),x=a("ce7e"),S=a("132d"),w=a("2fa4"),C=a("2a7f"),$=a("3a2f"),k=Object(u["a"])(c,s,i,!1,null,null,null);e["a"]=k.exports;h()(k,{VAppBar:m["a"],VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VCheckbox:p["a"],VChip:g["a"],VDataTable:y["a"],VDivider:x["a"],VIcon:S["a"],VSpacer:w["a"],VToolbarTitle:C["b"],VTooltip:$["a"]})},"7df6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{attrs:{id:"sanddance"}})])],1)],1)},i=[],n=(a("b64b"),a("18a5"),a("d3b7"),a("25f0"),a("ac1f"),a("1276"),a("a88e")),r=a("7ec8"),o=a("b930"),l=a("e1a1"),c=a("9891");c["a"].use(l,n,r,o);var u,d,h={},m={data:function(){return{Interval:"",anchor:0,loadDataLength:0,loadArray:[]}},created:function(){this.preProcess()},mounted:function(){var t=this;this.initTable(),this.init(),this.Interval=setInterval((function(){t.change()}),5e3)},methods:{init:function(){h.viewer=new c["a"].Viewer(document.getElementById("sanddance"),{hideSidebarControls:!0}),h.viewer.options.colors.axisLine=[255,255,255,255],h.viewer.options.colors.axisText=[255,255,255,255],h.viewer.options.colors.hoveredCube=[255,255,255,255];var t=h.viewer.presenter.getElement(c["a"].VegaDeckGl.PresenterElement.gl);u={colorBin:"quantize",columns:{color:"Vpu",sort:"FreqHz",uid:"Id",x:"Longitude",y:"Latitude",z:"LoadMW",size:"LoadMW",group:"GenMW"},facets:null,hideLegend:!1,signaValues:null,view:"2d",scheme:"redblue",size:{height:t.offsetHeight,width:t.offsetWidth},chart:"scatterplot"},h.viewer.render(u,d)},change:function(){this.updateTable(),"barchartV"==u["chart"]?u["chart"]="density":"scatterplot"==u["chart"]?u["chart"]="barchartV":"density"==u["chart"]&&(u["chart"]="scatterplot"),h.viewer.render(u,d)},preProcess:function(){var t,e,a=0;for(var s in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[s]["Field"].length,e=Object.keys(this.$store.state.areadetail.content[s]),"Bus"==s)break;a+=t*e.length}this.anchor=a,this.loadDataLength=t},initTable:function(){var t,e=[],a=0;for(var s in this.$store.state.areadetail.content.Bus)this.$store.state.areadetail.content.Bus[s]["Int.Area Number"]==+this.$store.state.area&&(this.loadArray.push(a),t=this.$store.state.areadetail.content.Bus[s]["Int.Sub Number"],e.push({Id:s,"Symbol(vega_id)":s,Latitude:this.$store.state.areadetail.content.Substation[t.toString()]["Double.Latitude"],Longitude:this.$store.state.areadetail.content.Substation[t.toString()]["Double.Longitude"],name:this.$store.state.areadetail.content.Bus[s.split(",")[0]]["String.Name"]+" "+s.split(",")[1],Status:1,Vpu:1,FreqHz:60,GenMW:0,GenMvar:0,LoadMW:0})),a++;return d=e,d.length>1?Promise.resolve("Table initialized properly"):Promise.reject("Error in initialization")},updateTable:function(){try{var t=this.$store.state.parsedData;for(var e in d)d[e].Vpu=t[this.anchor+this.loadArray[e]*this.loadDataLength],d[e].Vangle=t[this.anchor+1+this.loadArray[e]*this.loadDataLength],d[e].FreqHz=t[this.anchor+2+this.loadArray[e]*this.loadDataLength],d[e].Status=t[this.anchor+3+this.loadArray[e]*this.loadDataLength],d[e].GenMW=t[this.anchor+4+this.loadArray[e]*this.loadDataLength],d[e].GenMvar=t[this.anchor+5+this.loadArray[e]*this.loadDataLength],d[e].LoadMW=t[this.anchor+6+this.loadArray[e]*this.loadDataLength]}catch(a){console.log("The raw data are not ready")}}},beforeDestroy:function(){clearInterval(this.Interval)}},v=m,f=(a("a303"),a("2877")),b=a("6544"),p=a.n(b),g=a("a523"),y=a("0e8f"),x=a("a722"),S=Object(f["a"])(v,s,i,!1,null,null,null);e["default"]=S.exports;p()(S,{VContainer:g["a"],VFlex:y["a"],VLayout:x["a"]})},"812b":function(t,e,a){"use strict";a("3a1f")},8790:function(t,e,a){"use strict";a("87e6")},"87e6":function(t,e,a){},"8c87":function(t,e,a){},"8cf7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"fill-height":"",fluid:"","grid-list-xl":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{lg6:"",xs12:""}},[a("v-card",{attrs:{color:"rgb(255, 255, 255, 0.3)",height:"85",raised:""}},[a("div",{staticClass:"display-3 font-weight-bold",attrs:{align:"center"}},[a("v-icon",{attrs:{size:"65"}},[t._v("mdi-clock-outline")]),t._v("System Date and Time ")],1)])],1),a("v-flex",{attrs:{lg6:"",xs12:""}},[a("v-card",{attrs:{color:"rgb(255, 255, 255, 0.3)",height:"85",raised:""}},[a("div",{staticClass:"display-3 font-weight-bold",attrs:{align:"center"}},[t._v("November 29, 2018 at "+t._s(t.clockTime))])])],1),a("v-flex",{attrs:{lg6:"",xs12:""}},[a("v-card",{attrs:{color:"rgb(0, 255, 0, 0.3)",height:"85",raised:""}},[a("div",{staticClass:"display-3 font-weight-bold",attrs:{align:"center"}},[a("v-icon",{attrs:{size:"65"}},[t._v("mdi-current-ac")]),t._v("Area Frequency ")],1)])],1),a("v-flex",{attrs:{lg6:"",xs12:""}},[a("v-card",{attrs:{color:"rgb(0, 255, 0, 0.3)",height:"85",raised:""}},[a("div",{staticClass:"display-3 font-weight-bold",attrs:{align:"center"}},[t._v(t._s(t.areaData[6])+" Hz")])])],1),a("v-flex",{attrs:{lg6:"",xs12:""}},[a("v-card",{attrs:{color:"rgb(0, 0, 255, 0.6)",height:"85",raised:""}},[a("div",{staticClass:"display-3 font-weight-bold",attrs:{align:"center"}},[a("v-icon",{attrs:{size:"65"}},[t._v("mdi-battery")]),t._v("Area Generation ")],1)])],1),a("v-flex",{attrs:{lg6:"",xs12:""}},[a("v-card",{attrs:{color:"rgb(0, 0, 255, 0.6)",height:"85",raised:""}},[a("div",{staticClass:"display-3 font-weight-bold",attrs:{align:"center"}},[t._v(t._s(t.areaData[0])+" MW")])])],1),a("v-flex",{attrs:{lg6:"",xs12:""}},[a("v-card",{attrs:{color:"rgb(255, 255, 0, 0.8)",height:"85",raised:""}},[a("div",{staticClass:"display-3 font-weight-bold",attrs:{align:"center"}},[a("v-icon",{attrs:{size:"65"}},[t._v("mdi-flash")]),t._v("Area Load ")],1)])],1),a("v-flex",{attrs:{lg6:"",xs12:""}},[a("v-card",{attrs:{color:"rgb(255, 255, 0, 0.8)",height:"85",raised:""}},[a("div",{staticClass:"display-3 font-weight-bold",attrs:{align:"center"}},[t._v(t._s(t.areaData[2])+" MW")])])],1),a("v-flex",{attrs:{lg6:"",xs12:""}},[a("v-card",{attrs:{color:"rgb(0, 255, 127, 0.8)",height:"85",raised:""}},[a("div",{staticClass:"display-3 font-weight-bold",attrs:{align:"center"}},[a("v-icon",{attrs:{size:"65"}},[t._v("mdi-cash-usd-outline")]),t._v("Total Cost ")],1)])],1),a("v-flex",{attrs:{lg6:"",xs12:""}},[a("v-card",{attrs:{color:"rgb(0, 255, 127, 0.8)",height:"85",raised:""}},[a("div",{staticClass:"display-3 font-weight-bold",attrs:{align:"center"}},[t._v("$"+t._s(t.totalCost))])])],1),a("v-flex",{attrs:{lg6:"",xs12:""}},[a("v-card",{attrs:{color:"rgb(255, 127, 80)",height:"85",raised:""}},[a("div",{staticClass:"display-3 font-weight-bold",attrs:{align:"center"}},[a("v-icon",{attrs:{size:"65"}},[t._v("mdi-send")]),t._v("Export Power ")],1)])],1),a("v-flex",{attrs:{lg6:"",xs12:""}},[a("v-card",{attrs:{color:"rgb(255, 127, 80)",height:"85",raised:""}},[a("div",{staticClass:"display-3 font-weight-bold",attrs:{align:"center"}},[t._v(t._s(t.areaData[5])+" MW")])])],1),a("v-flex",{attrs:{lg12:""}},[a("barPlot")],1)],1)],1)},i=[],n=a("f3f3"),r=a("a498"),o=a("2f62"),l={components:{barPlot:r["a"]},computed:Object(n["a"])({},Object(o["c"])(["clockTime","areaData","totalCost"]))},c=l,u=a("2877"),d=a("6544"),h=a.n(d),m=a("b0afa"),v=a("a523"),f=a("0e8f"),b=a("132d"),p=a("a722"),g=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=g.exports;h()(g,{VCard:m["a"],VContainer:v["a"],VFlex:f["a"],VIcon:b["a"],VLayout:p["a"]})},"8f59":function(t,e,a){"use strict";a("a30d")},"99c3":function(t,e,a){},"9d90":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Start")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{disabled:"",label:"Seconds to stop",required:"",rules:[t.rules.prohibited]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterClicked.apply(null,arguments)}},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},nativeOn:{click:function(e){return t.activate.apply(null,arguments)}}},[t._v("Activate")])],1)],1)],1)],1)},i=[],n={props:{visible:{type:Boolean,default:!1},topic:{default:""}},data:function(){return{content:"",time:null,rules:{prohibited:function(t){return"data"!=t&&"user"!=t&&"note"!=t||"Cannot use the reserved topic"}}}},computed:{show:{get:function(){return this.visible},set:function(t){t||(this.display=[],this.childshow=!1,this.$emit("close"))}}},methods:{activate:function(){this.time?this.$store.commit("trigsimtoseconds",+this.time):"paused"!=this.$store.state.status?this.$store.commit("trigstartsim"):this.$store.commit("trigcontinuesim"),this.show=!1},enterClicked:function(){this.activate()}}},r=n,o=a("2877"),l=a("6544"),c=a.n(l),u=a("8336"),d=a("b0afa"),h=a("99d9"),m=a("a523"),v=a("169a"),f=a("0e8f"),b=a("a722"),p=a("2fa4"),g=a("8654"),y=Object(o["a"])(r,s,i,!1,null,null,null);e["default"]=y.exports;c()(y,{VBtn:u["a"],VCard:d["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VContainer:m["a"],VDialog:v["a"],VFlex:f["a"],VLayout:b["a"],VSpacer:p["a"],VTextField:g["a"]})},a303:function(t,e,a){"use strict";a("e041")},a30d:function(t,e,a){},a498:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{"grid-list-xl":"","text-xs-center":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("v-chart",{attrs:{option:t.genBar,theme:t.theme,autoresize:""}})],1)],1)],1)},i=[],n=a("fc11"),r=(a("b0c0"),a("22b4")),o=a("f95e"),l=a("4cb5"),c=a("9394"),u=a("2da7"),d=a("4b2a"),h=a("5334"),m=a("5c7f");Object(r["a"])([o["a"],l["a"],c["a"],u["a"],d["a"],h["a"]]);var v={name:"barplot",components:{VChart:m["b"]},provide:Object(n["a"])({},m["a"],"dark"),data:function(){return{theme:"dark",genXaxis:[],genYaxis:[],maxGen:[]}},methods:{initGenPlot:function(){for(var t in this.$store.state.genData)this.genXaxis.push(this.$store.state.genData[t]["name"]),this.genYaxis.push(this.$store.state.genData[t]["MW"]),this.maxGen.push(this.$store.state.genData[t]["MWMax"])},updateGenPlot:function(){try{var t=[];for(var e in this.$store.state.genData)t.push(this.$store.state.genData[e]["MW"]),this.genYaxis=t}catch(a){console.log(a)}}},mounted:function(){var t=this;this.initGenPlot(),this.Process=setInterval((function(){t.updateGenPlot()}),1e3)},beforeDestroy:function(){clearInterval(this.Process)},computed:{genBar:function(){return{title:{text:"Current Generation",left:"center",textStyle:{fontSize:48}},grid:{right:"3%",left:"3%",bottom:100},xAxis:{type:"category",data:this.genXaxis,axisLabel:{rotate:90,inside:!0,fontWeight:"bold",fontSize:16},z:3},yAxis:{type:"value",axisLine:{show:!1}},tooltip:{trigger:"axis"},series:[{name:"Current Generation",data:this.genYaxis,type:"bar"},{name:"Maximum Generation",data:this.maxGen,type:"bar",itemStyle:{color:"none",borderColor:"#ddd",borderWidth:3,borderRadius:0},barGap:"-100%",barCategoryGap:"40%"}]}}}},f=v,b=(a("3bd4"),a("2877")),p=a("6544"),g=a.n(p),y=a("a523"),x=a("0e8f"),S=a("a722"),w=Object(b["a"])(f,s,i,!1,null,null,null);e["a"]=w.exports;g()(w,{VContainer:y["a"],VFlex:x["a"],VLayout:S["a"]})},a535:function(t,e,a){"use strict";a("394a")},a814:function(t,e,a){"use strict";a("8c87")},a901:function(t,e,a){"use strict";a("99c3")},a95e:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"elevation-0",attrs:{width:"350"}},[a("v-app-bar",{attrs:{flat:"",dense:"",color:"transparent"}},[a("v-toolbar-title",[a("h4",[t._v("Notification")])])],1),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[a("v-list",{staticClass:"overflow-y-auto pa-0",attrs:{"three-line":"",dense:"","max-height":"600"}},[t._l(t.$store.state.badgelist,(function(e,s){return[e.header?a("v-subheader",{key:e.header},[t._v(t._s(e.header))]):a("v-list-item",{key:e.time,on:{click:t.handleClick}},[a("v-list-item-avatar",{attrs:{color:e.color}},[a("v-icon",{attrs:{dark:""}},[t._v(t._s(e.icon))])],1),a("v-list-item-content",{staticClass:"list_tile_sub_title"},[a("v-list-item-subtitle",{domProps:{innerHTML:t._s(e.title)}})],1),a("v-list-item-action",{staticClass:"caption"},[t._v(" "+t._s(t.timeAgo.format(e.time,{gradation:t.canonical}))+" ")])],1),a("v-divider",{key:s})]}))],2),a("v-divider"),a("v-btn",{staticClass:"ma-0",attrs:{block:"",text:""},on:{click:t.cleanclear}},[t._v("Clear")]),a("v-divider"),a("v-btn",{staticClass:"ma-0",attrs:{block:"",text:""},on:{click:t.toggleMute}},[t._v(" "+t._s(t.mute)+" ")]),a("v-divider"),a("v-btn",{staticClass:"ma-0",attrs:{block:"",text:""},on:{click:t.demo}},[t._v("Demo")])],1)],1)},i=[],n=a("7c4c"),r=a("541d"),o=a("7f69");n["a"].locale(r);var l={data:function(){return{timeAgo:new n["a"]("en-US"),canonical:o["a"],mute:"mute"}},methods:{handleClick:function(t){console.log(t)},cleanclear:function(){console.log("Yeah"),this.$store.commit("resetbadgelist")},toggleMute:function(){this.$store.commit("toggleMute"),"mute"===this.mute?this.mute="unmute":"unmute"===this.mute&&(this.mute="mute")},demo:function(){this.$emit("changeHeight","0")}},mounted:function(){}},c=l,u=(a("760f"),a("2877")),d=a("6544"),h=a.n(d),m=a("40dc"),v=a("8336"),f=a("b0afa"),b=a("99d9"),p=a("ce7e"),g=a("132d"),y=a("8860"),x=a("da13"),S=a("1800"),w=a("8270"),C=a("5d23"),$=a("e0c7"),k=a("2a7f"),_=Object(u["a"])(c,s,i,!1,null,"6e98b1a8",null);e["default"]=_.exports;h()(_,{VAppBar:m["a"],VBtn:v["a"],VCard:f["a"],VCardText:b["b"],VDivider:p["a"],VIcon:g["a"],VList:y["a"],VListItem:x["a"],VListItemAction:S["a"],VListItemAvatar:w["a"],VListItemContent:C["a"],VListItemSubtitle:C["b"],VSubheader:$["a"],VToolbarTitle:k["b"]})},ab8a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{key:t.id,attrs:{width:"900"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[a("v-toolbar",{attrs:{color:"cyan",dark:"",tabs:""}},[a("v-toolbar-title",[t._v(t._s(t.name)+" "+t._s(t.volt)+" "+t._s(t.type))]),a("v-tabs",{attrs:{slot:"extension",centered:"",color:"cyan","slider-color":"yellow"},slot:"extension"},[a("v-tab",[t._v(" General ")])],1)],1),a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" Data ")]),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.display,"hide-default-footer":""},scopedSlots:t._u([{key:"items",fn:function(e){return t._l(e.item,(function(e){return a("td",{key:e.text,staticClass:"text-xs-right"},[t._v(" "+t._s(e)+" ")])}))}}])}),a("v-card-title",{staticClass:"headline"},[t._v(" Control ")]),a("v-overflow-btn",{attrs:{dense:"",items:t.dropdown,label:"Commands",segmented:"",target:"#dropdown-example"}}),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){e.stopPropagation(),t.show=!1}}},[t._v("Close")])],1)],1)],1)},i=[],n=(a("d81d"),a("b0c0"),a("b64b"),a("18a5"),a("fb6a"),{data:function(){var t=this,e=[],a=function(){var a=s;e.push({text:t.$store.state.tcmcommands.Branch[s],callback:function(){t.$store.commit("setMessage",[t.type,t.id,t.name,t.$store.state.tcmcommands.Branch[a]]),t.$store.commit("setPublish")}})};for(var s in this.$store.state.tcmcommands.Branch)a();var i=this.$store.state.fieldstore.Branch["Field"].map((function(t){return{text:t,value:t}}));return{dropdown:e,display:[],anchor:0,arrlength:null,keyarr:null,Interval:null,headers:i}},props:{visible:{type:Boolean,default:!1},type:{type:String},id:{type:String},name:{type:String,default:"NULL"},volt:{type:String,default:""},data:{default:function(){return[]}}},computed:{show:{get:function(){return this.visible},set:function(t){t||this.$emit("close")}}},methods:{init:function(){for(var t in this.$store.state.fieldstore){if(this.arrlength=this.$store.state.fieldstore[t]["Field"].length,this.keyarr=Object.keys(this.$store.state.areadetail.content[t]),t==this.type){this.anchor+=this.arrlength*this.keyarr.indexOf(this.id);break}this.anchor+=this.arrlength*this.keyarr.length}},getData:function(){this.$store.state.parsedData;var t=this.$store.state.parsedData.slice(this.anchor,this.anchor+this.arrlength),e={};for(var a in t)e[this.$store.state.fieldstore[this.type]["Field"][a]]=t[a];this.display=[e]}},mounted:function(){var t=this;this.init(),this.Interval=setInterval((function(){t.getData()}),500)},beforeDestroy:function(){clearInterval(this.Interval)}}),r=n,o=a("2877"),l=a("6544"),c=a.n(l),u=a("8336"),d=a("b0afa"),h=a("99d9"),m=a("8fea"),v=a("169a"),f=a("de8e"),b=a("71a3"),p=a("fe57"),g=a("71d9"),y=a("2a7f"),x=Object(o["a"])(r,s,i,!1,null,null,null);e["default"]=x.exports;c()(x,{VBtn:u["a"],VCard:d["a"],VCardActions:h["a"],VCardTitle:h["c"],VDataTable:m["a"],VDialog:v["a"],VOverflowBtn:f["a"],VTab:b["a"],VTabs:p["a"],VToolbar:g["a"],VToolbarTitle:y["b"]})},b0d9:function(t,e,a){},b253:function(t,e,a){"use strict";a("250a")},b834:function(t,e,a){"use strict";a("1f77")},badc:function(t,e,a){"use strict";a("02b8")},c393:function(t,e,a){},c4d3:function(t,e,a){"use strict";a("f596")},c52c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"align-center layout px-4 pt-4 app--page-header",attrs:{row:""}},[a("div",{staticClass:"page-header-left"},[a("h3",{staticClass:"pr-3"},[t._v("Load")])]),a("v-icon",{attrs:{larg:""}},[t._v("mdi-lightbulb")]),a("v-spacer"),a("userInfo")],1),a("v-container",{attrs:{"grid-list-xl":"","text-xs-center":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg8:"",sm12:"",xs12:""}},[a("loadtable",{attrs:{title:"Realtime Data"}})],1),a("v-flex",{attrs:{lg4:"",sm12:"",xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("MapWidget",{attrs:{title:"Location Assist (Load)",focus:"Load"}})],1)],1),a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("v-widget",{attrs:{title:"Tool2","content-bg":"dark"}},[a("div",{staticClass:"cardiv",attrs:{slot:"widget-content"},slot:"widget-content"},[a("v-card",{attrs:{dark:"",color:"light-blue"}},[a("v-card-text",{staticClass:"px-0"},[t._v("Tool2")])],1)],1)])],1)],1)],1)],1)],1)],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-app-bar",{attrs:{flat:"",dense:"",color:"transparent"}},[a("v-toolbar-title",[a("h4",[t._v(t._s(t.title))])]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("more_vert")])],1)],1),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[[a("v-data-table",{attrs:{headers:t.headers,items:t.loads,"items-per-page-options":t.defaultRowItems,"show-select":"","item-key":"name"},scopedSlots:t._u([{key:"item.Actions",fn:function(e){var s=e.item;return[a("v-switch",{staticClass:"mt-3",attrs:{disabled:t.disable},nativeOn:{click:function(e){return t.toggle(s)}},model:{value:s.vStatus,callback:function(e){t.$set(s,"vStatus",e)},expression:"item.vStatus"}})]}},{key:"items",fn:function(e){return[a("tr",{attrs:{active:e.selected},on:{click:function(t){e.selected=!e.selected}}},[a("td",[a("v-checkbox",{attrs:{"input-value":e.selected,primary:"","hide-details":""}})],1),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.Status))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.MW))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.Mvar))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.Vpu))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.FreqHz))])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],a("v-divider")],2)],1)},r=[],o=a("f3f3"),l=(a("dca8"),a("b64b"),a("18a5"),a("ac1f"),a("1276"),a("d3b7"),a("25f0"),a("2f62")),c={props:{title:String},data:function(){return{headers:Object.freeze([{text:"Load",align:"left",value:"name"},{text:"Status",value:"Status"},{text:"MW",value:"MW"},{text:"Mvar",value:"Mvar"},{text:"Vpu",value:"Vpu"},{text:"FreqHz",value:"FreqHz"},{text:"Actions",value:"Actions",sortable:!1}]),selected:[],anchor:0,loadDataLength:0,defaultRowItems:[15,30,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],loadArray:[],loads:[],Interval:null}},methods:{preProcess:function(){var t,e,a=0;for(var s in this.fieldstore){if(t=this.fieldstore[s]["Field"].length,e=Object.keys(this.areadetail.content[s]),"Load"==s)break;a+=t*e.length}this.anchor=a,this.loadDataLength=t},initTable:function(){var t,e=[],a=0;for(var s in this.areadetail.content.Load)this.areadetail.content.Load[s]["Int.Area Number"]==+this.area&&(this.loadArray.push(a),t=this.areadetail.content.Bus[s.split(",")[0]]["Int.Sub Number"],e.push({value:[this.areadetail.content.Substation[t.toString()]["Double.Latitude"],this.areadetail.content.Substation[t.toString()]["Double.Longitude"]],key_cmd:s,name:Object.freeze(this.areadetail.content.Bus[s.split(",")[0]]["String.Name"]+" "+s.split(",")[1]),Status:1,vStatus:!0,MW:0,Mvar:0,Vpu:1,FreqHz:60,id_cmd:Object.freeze(this.areadetail.content.Load[s]["String.ID"])})),a++;return this.loads=e,this.loads.length>1?Promise.resolve("Table initialized properly"):Promise.reject("Error in initialization")},updateTable:function(){var t=this;this.Interval=setInterval((function(){try{var e=t.parsedData;for(var a in t.loads)t.loads[a].MW=e[t.anchor+6+t.loadArray[a]*t.loadDataLength],t.loads[a].Mvar=e[t.anchor+7+t.loadArray[a]*t.loadDataLength],t.loads[a].Vpu=e[t.anchor+t.loadArray[a]*t.loadDataLength],t.loads[a].FreqHz=e[t.anchor+3+t.loadArray[a]*t.loadDataLength],t.loads[a].Status=e[t.anchor+5+t.loadArray[a]*t.loadDataLength],void 0!=t.genAction["Load"][t.loads[a].key_cmd]?t.currentTime>=Math.max(t.genAction["Load"][t.loads[a].key_cmd])+3&&(t.loads[a].vStatus=1==t.loads[a].Status):t.loads[a].vStatus=1==t.loads[a].Status}catch(s){console.log("The raw data are not ready")}}),500)},toggle:function(t){var e;e=1==t.Status?"OPEN":"CLOSE",this.$store.commit("setMessage",["Load",t.key_cmd+","+t.id_cmd,t.key_cmd+"#"+t.id_cmd,e]),this.$store.commit("recordAction",["Load",t.key_cmd]),this.$store.commit("setPublish")}},created:function(){this.loads=[],this.preProcess()},mounted:function(){var t=this;this.initTable().then((function(){return t.updateTable()}))},computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])(["fieldstore","areadetail","area","parsedData","genAction","currentTime","status"])),{},{disable:function(){return"running"!=this.status}}),watch:{selected:function(t,e){this.$store.commit("updateSelectedLoads",t)}},beforeDestroy:function(){clearInterval(this.Interval)}},u=c,d=(a("090a"),a("2877")),h=a("6544"),m=a.n(h),v=a("40dc"),f=a("8336"),b=a("b0afa"),p=a("99d9"),g=a("ac7c"),y=a("8fea"),x=a("ce7e"),S=a("132d"),w=a("2fa4"),C=a("b73d"),$=a("2a7f"),k=Object(d["a"])(u,n,r,!1,null,"62b8987b",null),_=k.exports;m()(k,{VAppBar:v["a"],VBtn:f["a"],VCard:b["a"],VCardText:p["b"],VCheckbox:g["a"],VDataTable:y["a"],VDivider:x["a"],VIcon:S["a"],VSpacer:w["a"],VSwitch:C["a"],VToolbarTitle:$["b"]});var D=a("129e"),L=a("2ff3"),A=a("5372"),V={name:"generator",components:{loadtable:_,VWidget:D["a"],MapWidget:L["a"],userInfo:A["a"]}},M=V,I=(a("6a1a"),a("a523")),T=a("0e8f"),B=a("a722"),O=Object(d["a"])(M,s,i,!1,null,null,null);e["default"]=O.exports;m()(O,{VCard:b["a"],VCardText:p["b"],VContainer:I["a"],VFlex:T["a"],VIcon:S["a"],VLayout:B["a"],VSpacer:w["a"]})},c831:function(t,e,a){},c9be:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"align-center layout px-4 pt-4 app--page-header",attrs:{row:""}},[a("div",{staticClass:"page-header-left"},[a("h3",{staticClass:"pr-3"},[t._v("Generator")])]),a("v-icon",{attrs:{larg:""}},[t._v("mdi-google-glass")]),a("v-spacer"),a("userInfo")],1),a("v-container",{attrs:{"grid-list-xl":"","text-xs-center":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg8:"",sm8:"",xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg6:"",sm6:"",xs6:""}},[a("chartStatistic",{attrs:{id:"UTC",min:"null",max:"null",left:"13%",title:"Current Cost ($/h)",icon:"attach_money","card-color":"indigo","chart-color":[t.color.indigo.lighten1],costData:t.unitTimeCost,type:"line"}})],1),a("v-flex",{attrs:{lg6:"",sm6:"",xs6:""}},[a("chartStatistic",{attrs:{id:"ATC",min:"null",max:"null",left:"8%",precision:1,title:"Average Total Cost ($/MWh)",icon:"attach_money","card-color":"pink","chart-color":[t.color.pink.darken1,"rgba(255,255,255,0.3)"],costData:+(t.$store.state.totalCost/t.$store.state.totalMWh).toFixed(2),type:"line"}})],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("gentable",{attrs:{title:"Realtime Data"}})],1)],1)],1),a("v-flex",{attrs:{lg4:"",sm4:"",xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:"","white--text":""}},[a("div",{staticClass:"text-sm-center primary card"},[a("div",{staticClass:"title pt-4"},[t._v("Total Cost")]),a("span",{staticClass:"title",staticStyle:{color:"white"}},[t._v("$"+t._s(t.totalCost))])])]),a("v-flex",{attrs:{xs6:"","white--text":""}},[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("div",t._g({staticClass:"align-center text-sm-center green card"},s),[a("div",{staticClass:"title pt-4"},[t._v("ACE")]),a("span",{staticClass:"title",staticStyle:{color:"white"}},[t._v(t._s(t.ACE.toFixed(2))+"MW")])])]}}])},[a("span",[t._v("The instantaneous difference between a Balancing Authority's net actual and scheduled interchange")])])],1),a("v-flex",{attrs:{xs6:"","white--text":""}},[a("div",{staticClass:"align-center text-sm-center orange card"},[a("div",{staticClass:"title pt-4"},[t._v("Total Generation")]),a("span",{staticClass:"title",staticStyle:{color:"white"}},[t._v(t._s(t.areaData[0])+"MW")])])]),a("v-flex",{attrs:{xs6:"","white--text":""}},[a("div",{staticClass:"align-center text-sm-center pink card"},[a("div",{staticClass:"title pt-4"},[t._v("Total Load")]),a("span",{staticClass:"title",staticStyle:{color:"white"}},[t._v(t._s(t.areaData[2])+"MW")])])])],1)],1),a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("v-widget",{attrs:{title:"Power Import Schedule","content-bg":"dark"}},[a("div",{attrs:{slot:"widget-content"},slot:"widget-content"},[a("v-radio-group",{attrs:{mandatory:!1},model:{value:t.schedule,callback:function(e){t.schedule=e},expression:"schedule"}},[a("v-radio",{attrs:{label:"0MW @ $0/MW",value:"0@0"}}),a("v-radio",{attrs:{label:"600MW @ $13/MW",value:"600@13"}}),a("v-radio",{attrs:{label:"800MW @ $18/MW",value:"800@18"}}),a("v-radio",{attrs:{label:"1200MW @ $19/MW",value:"1200@19"}}),a("v-radio",{attrs:{label:"1800MW @ $24/MW",value:"1800@24"}})],1),a("p",[t._v("ACE cost is $100/MW")])],1)])],1),a("v-flex",{attrs:{xs12:""}},[a("m-widget",{attrs:{title:"Load Forecast","content-bg":"dark"}},[a("div",{attrs:{slot:"widget-content"},slot:"widget-content"},[a("loadForecast")],1)])],1),a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("v-widget",{attrs:{title:"Area Generation Overview","content-bg":"dark"}},[a("div",{attrs:{slot:"widget-content"},slot:"widget-content"},[a("pie",{attrs:{areatotal:t.areaData[0]}})],1)])],1),a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("MapWidget",{attrs:{title:"Location Assist (Gen)",focus:"Gen"}})],1)],1)],1)],1)],1)],1)},i=[],n=a("f3f3"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-app-bar",{attrs:{flat:"",dense:"",color:"transparent"}},[a("v-toolbar-title",[a("h4",[t._v(t._s(t.title))])]),a("v-spacer"),a("v-toolbar-items",[a("v-menu",{attrs:{bottom:"",right:"","offset-x":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{icon:""}},s),[a("v-icon",[t._v("more_vert")])],1),a("v-list",[a("v-list-item",{on:{click:t.toggleALL}},[a("v-list-item-title",[t._v("Toggle all AGC")])],1)],1)]}}])})],1)],1),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[[a("v-data-table",{staticClass:"fixed-header",attrs:{headers:t.headers,items:t.genData,"items-per-page-options":t.defaultRowItems,"show-select":"","item-key":"name"},scopedSlots:t._u([{key:"item.MWSetpoint",fn:function(e){var s=e.item;return[a("v-edit-dialog",{attrs:{"return-value":s.MWSetpoint,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(s,"MWSetpoint",e)},"update:return-value":function(e){return t.$set(s,"MWSetpoint",e)},save:function(e){return t.savemws(s)},open:function(e){return t.openmws(s)},cancel:t.cancel},scopedSlots:t._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-3 title"},[t._v("Update MW Setpoint")]),a("v-text-field",{attrs:{label:"Edit","single-line":"",autofocus:""},model:{value:t.mws,callback:function(e){t.mws=e},expression:"mws"}})]},proxy:!0}],null,!0)},[a("div",[t._v(t._s(s.MWSetpoint))])])]}},{key:"item.Actions",fn:function(e){var s=e.item;return[a("v-switch",{staticClass:"mt-3",attrs:{disabled:t.disable},nativeOn:{click:function(e){return t.toggle(s)}},model:{value:s.vStatus,callback:function(e){t.$set(s,"vStatus",e)},expression:"item.vStatus"}})]}},{key:"item.AGC",fn:function(e){var s=e.item;return[a("v-switch",{staticClass:"mt-3",attrs:{disabled:!s.Status},model:{value:s.AGC,callback:function(e){t.$set(s,"AGC",e)},expression:"item.AGC"}})]}},{key:"headerCell",fn:function(e){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(" "+t._s(e.header.text)+" ")]),a("span",{staticStyle:{color:"white"}},[t._v(" "+t._s(e.header.text)+" ")])])]}},{key:"items",fn:function(e){return[a("tr",{attrs:{active:e.selected},on:{click:function(t){e.selected=!e.selected}}},[a("td",[a("v-checkbox",{attrs:{"input-value":e.selected,primary:"","hide-details":""}})],1),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.Status))]),a("td",{staticClass:"text-xs-right"},[a("v-chip",{staticClass:"chip",attrs:{label:"",small:"",color:t.getColorByValue(e.item.MW,e.item.MWMax),"text-color":"white"}},[t._v(t._s(e.item.MW))])],1),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.MarginalCost))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.OperationCost))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.MWMax))])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),a("v-snackbar",{attrs:{timeout:3e3,color:t.snackColor},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{text:""},on:{click:function(e){t.snack=!1}}},"v-btn",s,!1),[t._v(" Close ")])]}}]),model:{value:t.snack,callback:function(e){t.snack=e},expression:"snack"}},[t._v(" "+t._s(t.snackText)+" ")])],a("v-divider")],2)],1)},o=[],l=(a("b64b"),a("18a5"),a("d3b7"),a("25f0"),a("2f62")),c={props:{title:String},data:function(){return{headers:[{text:"Generator",align:"left",value:"name",width:"10%"},{text:"Status",value:"Status"},{text:"MW",value:"MW"},{text:"Operation Cost",value:"MarginalCost",align:"left"},{text:"Fixed Cost",value:"OperationCost"},{text:"MW Setpoint",value:"MWSetpoint",align:"left"},{text:"MW Max Limit",value:"MWMax"},{text:"Actions",value:"Actions"},{text:"AGC",value:"AGC"}],gens:[],selected:[],anchor:0,genDataLength:0,defaultRowItems:[10,25,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],mws:0,vps:1,switch:!1,snack:!1,snackColor:"",snackText:""}},methods:{preProcess:function(){var t,e,a=0;for(var s in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[s]["Field"].length,e=Object.keys(this.$store.state.casedetail.content[s]),"Gen"==s)break;a+=t*e.length}this.anchor=a,this.genDataLength=t},initTable:function(){var t,e=[];for(var a in console.log(this.$store.state.casedetail.content.Gen),this.$store.state.casedetail.content.Gen)t=this.$store.state.casedetail.content.Bus[a]["Int.Sub Number"],e.push({value:[this.$store.state.casedetail.content.Substation[t.toString()]["Double.Latitude"],this.$store.state.casedetail.content.Substation[t.toString()]["Double.Longitude"]],key:a,name:a,Status:1,vStatus:!0,MWMax:this.$store.state.casedetail.content.Gen[a]["Single.MW Max Limit"],MWMin:this.$store.state.casedetail.content.Gen[a]["Single.MW Min Limit"],MW:0,Mvar:0,MWSetpoint:0,VpuSetpoint:1,id:this.$store.state.casedetail.content.Gen[a]["String.ID"]});return this.gens=e,this.gens.length>1?Promise.resolve("Table initialized properly"):Promise.reject("Error in initialization")},updateTable:function(){try{var t=this.$store.state.parsedData;for(var e in this.gens)this.gens[e].MW=t[this.anchor+6+e*this.genDataLength],this.gens[e].Mvar=t[this.anchor+7+e*this.genDataLength],this.gens[e].MWSetpoint=t[this.anchor+9+e*this.genDataLength],this.gens[e].VpuSetpoint=t[this.anchor+8+e*this.genDataLength],this.gens[e].Status=t[this.anchor+5+e*this.genDataLength],void 0!=this.$store.state.genAction["Gen"][this.gens[e].key]?this.$store.state.currentTime>=Math.max(this.$store.state.genAction["Gen"][this.gens[e].key])+3&&(this.gens[e].vStatus=1==this.gens[e].Status):this.gens[e].vStatus=1==this.gens[e].Status}catch(a){console.log("The raw data are not ready")}},savemws:function(t){this.snack=!0,this.snackColor="success",this.snackText="New Setpoint Saved",this.mws=Math.min(Math.max(this.mws,0),t.MWMax);var e="Set Power "+this.mws+" MW";this.$store.commit("setMessage",["Gen",t.key+","+t.id,t.key+"#"+t.id,e]),this.$store.commit("setPublish")},openmws:function(t){this.mws=t.MWSetpoint},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},savevps:function(t){var e="Set Exciter_Setpoint "+this.vps+" pu";this.$store.commit("setMessage",["Gen",t.key+","+t.id,t.key+"#"+t.id,e]),this.$store.commit("setPublish")},openvps:function(t){this.vps=t.VpuSetpoint},toggle:function(t){var e;e=1==t.Status?"OPEN":"CLOSE",this.$store.commit("setMessage",["Gen",t.key+","+t.id,t.key+"#"+t.id,e]),this.$store.commit("recordAction",["Gen",t.key]),this.$store.commit("setPublish")},toggleAGC:function(t){console.log(t)},toggleALL:function(){this.switch=!this.switch,this.$store.commit("toggleALL",this.switch)},getColorByValue:function(t,e){var a="transparent";return t>0&&(t>=e?a="red":t>.9*e&&(a="yellow")),a}},created:function(){},mounted:function(){},computed:Object(n["a"])(Object(n["a"])({},Object(l["c"])(["genData"])),{},{disable:function(){return"running"!=this.$store.state.status}}),watch:{selected:function(t,e){this.$store.commit("updateSelectedGens",t)}}},u=c,d=(a("75d0"),a("2877")),h=a("6544"),m=a.n(h),v=a("40dc"),f=a("8336"),b=a("b0afa"),p=a("99d9"),g=a("ac7c"),y=a("cc20"),x=a("8fea"),S=a("ce7e"),w=a("7679"),C=a("132d"),$=a("8860"),k=a("da13"),_=a("5d23"),D=a("e449"),L=a("2db4"),A=a("2fa4"),V=a("b73d"),M=a("8654"),I=a("2a7f"),T=a("3a2f"),B=Object(d["a"])(u,r,o,!1,null,"597535fa",null),O=B.exports;m()(B,{VAppBar:v["a"],VBtn:f["a"],VCard:b["a"],VCardText:p["b"],VCheckbox:g["a"],VChip:y["a"],VDataTable:x["a"],VDivider:S["a"],VEditDialog:w["a"],VIcon:C["a"],VList:$["a"],VListItem:k["a"],VListItemTitle:_["c"],VMenu:D["a"],VSnackbar:L["a"],VSpacer:A["a"],VSwitch:V["a"],VTextField:M["a"],VToolbarItems:I["a"],VToolbarTitle:I["b"],VTooltip:T["a"]});var j=a("129e"),N=a("b85f"),G=a("12f1"),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:t.cardColor,dark:t.computeCardDark}},[a("v-card-title",[a("div",{staticClass:"layout row ma-0"},[a("div",{staticClass:"headline"},[t._v(t._s(t.title))]),a("v-spacer"),a("div",{staticClass:"subheading"},[t._v("$"+t._s(t.dispData))])],1)]),a("div",{staticClass:"chart",attrs:{id:t.id}})],1)},P=[],E=(a("a9e3"),a("b0c0"),a("b6802"),a("6612")),z=a.n(E),W=a("22b4"),R=a("1be7"),H=a("3620"),q=a("9394"),U=a("2da7"),Z=a("4b2a"),J=a("ff32"),X=a("5e81"),Y=a("5334"),Q=a("f95e");W["a"]([q["a"],U["a"],Z["a"],J["a"],X["a"],Y["a"],H["a"],Q["a"]]);var K={props:{icon:String,title:String,costData:[Number,String],caption:String,value:Number,color:String,id:String,gradient:{type:Boolean,default:!1},cardColor:{type:String,default:"white"},chartColor:Array,min:[String,null],max:[String,null],left:String,precision:{default:0,type:Number}},data:function(){return{chart:null,dataSeries:[],index:0,Process:null}},computed:{computeCardDark:function(){return"white"!==this.cardColor},dispData:function(){return z()(this.costData).format("0,0")}},methods:{initChart:function(){this.chart=R["l"](document.getElementById(this.id));var t=this;this.chart.setOption({tooltip:{trigger:"axis",formatter:function(t){return t[0].name+": "+t[0].value[1]},axisPointer:{animation:!1},confine:!0},xAxis:{show:!1,type:"value",min:"dataMin",max:"dataMax"},yAxis:{show:!0,type:"value",splitLine:{show:!1},min:function(e){return(.99*e.min).toFixed(t.precision)},max:function(e){return(1.01*e.max).toFixed(t.precision)},axisLine:{lineStyle:{color:"rgba(255,255,255,1)"}}},grid:{top:"5%",left:this.left,bottom:"5%",right:"0"},color:this.chartColor,series:[{type:"line",id:"line",name:"line",smooth:!0,data:[]}]})},updateATC:function(){var t=this;this.Process=setInterval((function(){if("running"==t.$store.state.status){var e=new Date;e.getHours(),e.getMinutes(),e.getSeconds();t.dataSeries.push({name:t.index.toString(),value:[t.index,t.costData]}),t.index++,t.dataSeries.length>60&&t.dataSeries.shift(),t.chart.setOption({series:[{data:t.dataSeries}]})}}),1e3)},resizeChart:function(){var t=this;window.addEventListener("resize",(function(){t.chart.resize()}))}},mounted:function(){this.initChart(),this.resizeChart(),this.updateATC()},beforeDestroy:function(){clearInterval(this.Process),this.chart.clear()},watch:{}},tt=K,et=(a("b834"),Object(d["a"])(tt,F,P,!1,null,null,null)),at=et.exports;m()(et,{VCard:b["a"],VCardTitle:p["c"],VSpacer:A["a"]});var st=a("c0a4"),it=a.n(st),nt=a("2ff3"),rt=a("a43b"),ot=a("5372"),lt={name:"generator",data:function(){return{color:it.a,radios:this.$store.state.schedule}},components:{gentable:O,VWidget:j["a"],chartStatistic:at,MapWidget:nt["a"],pie:rt["a"],MWidget:N["a"],loadForecast:G["a"],userInfo:ot["a"]},computed:Object(n["a"])({},Object(l["c"])(["totalCost","ACE","areaData","unitTimeCost","schedule"])),watch:{radios:function(t,e){this.$store.commit("setSchedule",t),this.$store.commit("addReportUser",{time:this.$store.state.currentTime,event:["Schedule",t]})}}},ct=lt,ut=(a("fda6"),a("a523")),dt=a("0e8f"),ht=a("a722"),mt=a("67b6"),vt=a("43a6"),ft=Object(d["a"])(ct,s,i,!1,null,null,null);e["default"]=ft.exports;m()(ft,{VContainer:ut["a"],VFlex:dt["a"],VIcon:C["a"],VLayout:ht["a"],VRadio:mt["a"],VRadioGroup:vt["a"],VSpacer:A["a"],VTooltip:T["a"]})},caea:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"align-center layout px-4 pt-4 app--page-header",attrs:{row:""}},[a("div",{staticClass:"page-header-left"},[a("h3",{staticClass:"pr-3"},[t._v("Shunt")])]),a("v-icon",{attrs:{larg:""}},[t._v("mdi-currency-usd")]),a("v-spacer"),a("userInfo")],1),a("v-container",{attrs:{"grid-list-xl":"","text-xs-center":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg8:"",sm12:"",xs12:""}},[a("shunttable",{attrs:{title:"Realtime Data"}})],1),a("v-flex",{attrs:{lg4:"",sm12:"",xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("MapWidget",{attrs:{title:"Location Assist (Shunt)",focus:"Shunt"}})],1),a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("bustable",{attrs:{title:"Violating Buses"}})],1)],1)],1)],1)],1)],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-app-bar",{attrs:{flat:"",dense:"",color:"transparent"}},[a("v-toolbar-title",[a("h4",[t._v(t._s(t.title))])]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("more_vert")])],1)],1),a("v-divider"),a("v-card-text",{staticClass:"pa-0"},[[a("v-data-table",{attrs:{headers:t.headers,items:t.shunts,"items-per-page-options":t.defaultRowItems,"show-select":"","item-key":"name"},scopedSlots:t._u([{key:"item.Actions",fn:function(e){var s=e.item;return[a("v-switch",{staticClass:"mt-3",attrs:{disabled:t.disable},nativeOn:{click:function(e){return t.toggle(s)}},model:{value:s.vStatus,callback:function(e){t.$set(s,"vStatus",e)},expression:"item.vStatus"}})]}},{key:"headerCell",fn:function(e){return[a("v-tooltip",{attrs:{bottom:""}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(e.header.text))]),a("span",{staticStyle:{color:"white"}},[t._v(t._s(e.header.text))])])]}},{key:"items",fn:function(e){return[a("tr",{attrs:{active:e.selected},on:{click:function(t){e.selected=!e.selected}}},[a("td",[a("v-checkbox",{attrs:{"input-value":e.selected,primary:"","hide-details":""}})],1),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.Status))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.Mvar))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.Vpu))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.FreqHz))])])]}}]),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],a("v-divider")],2)],1)},r=[],o=(a("b64b"),a("18a5"),a("ac1f"),a("1276"),a("d3b7"),a("25f0"),{props:{title:String},data:function(){return{headers:[{text:"Shunt",align:"left",value:"name"},{text:"Status",value:"Status",align:"left"},{text:"Mvar",value:"Mvar",align:"right"},{text:"Vpu",value:"Vpu",align:"right"},{text:"FreqHz",value:"FreqHz",align:"right"},{text:"Actions",value:"Actions",sortable:!1,align:"right"}],shunts:[],selected:[],anchor:0,shuntDataLength:0,defaultRowItems:[15,30,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],shuntArray:[],Interval:null}},methods:{preProcess:function(){var t,e,a=0;for(var s in this.$store.state.fieldstore){if(t=this.$store.state.fieldstore[s]["Field"].length,e=Object.keys(this.$store.state.areadetail.content[s]),"Shunt"==s)break;a+=t*e.length}this.anchor=a,this.shuntDataLength=t},initTable:function(){var t,e=[],a=0;for(var s in this.$store.state.areadetail.content.Shunt)this.$store.state.areadetail.content.Shunt[s]["Int.Area Number"]==+this.$store.state.area&&(this.shuntArray.push(a),t=this.$store.state.areadetail.content.Bus[s.split(",")[0]]["Int.Sub Number"],e.push({value:[this.$store.state.areadetail.content.Substation[t.toString()]["Double.Latitude"],this.$store.state.areadetail.content.Substation[t.toString()]["Double.Longitude"]],key_cmd:s,name:this.$store.state.areadetail.content.Bus[s.split(",")[0]]["String.Name"],Status:1,vStatus:!0,Mvar:0,Vpu:1,FreqHz:60,id_cmd:this.$store.state.areadetail.content.Shunt[s]["String.ID"]})),a++;return this.shunts=e,this.shunts.length>1?Promise.resolve("Table initialized properly"):Promise.reject("Error in initialization")},updateTable:function(){var t=this;this.Interval=setInterval((function(){try{var e=t.$store.state.parsedData;for(var a in t.shunts)t.shunts[a].Mvar=e[t.anchor+6+t.shuntArray[a]*t.shuntDataLength],t.shunts[a].Vpu=e[t.anchor+t.shuntArray[a]*t.shuntDataLength],t.shunts[a].FreqHz=e[t.anchor+3+t.shuntArray[a]*t.shuntDataLength],t.shunts[a].Status=e[t.anchor+5+t.shuntArray[a]*t.shuntDataLength],void 0!=t.$store.state.genAction["Shunt"][t.shunts[a].key_cmd]?t.$store.state.currentTime>=Math.max(t.$store.state.genAction["Shunt"][t.shunts[a].key_cmd])+3&&(t.shunts[a].vStatus=1==t.shunts[a].Status):t.shunts[a].vStatus=1==t.shunts[a].Status}catch(s){console.log("The raw data are not ready")}}),500)},toggle:function(t){var e;e=1==t.Status?"OPEN":"CLOSE",this.$store.commit("setMessage",["Shunt",t.key_cmd+","+t.id_cmd,t.key_cmd+"#"+t.id_cmd,e]),this.$store.commit("recordAction",["Shunt",t.key_cmd]),this.$store.commit("setPublish")}},created:function(){this.preProcess()},mounted:function(){var t=this;this.initTable().then((function(){return t.updateTable()}))},watch:{selected:function(t,e){this.$store.commit("updateSelectedShunts",t)}},computed:{disable:function(){return"running"!=this.$store.state.status}},beforeDestroy:function(){clearInterval(this.Interval)}}),l=o,c=(a("1c77"),a("2877")),u=a("6544"),d=a.n(u),h=a("40dc"),m=a("8336"),v=a("b0afa"),f=a("99d9"),b=a("ac7c"),p=a("8fea"),g=a("ce7e"),y=a("132d"),x=a("2fa4"),S=a("b73d"),w=a("2a7f"),C=a("3a2f"),$=Object(c["a"])(l,n,r,!1,null,"29076f37",null),k=$.exports;d()($,{VAppBar:h["a"],VBtn:m["a"],VCard:v["a"],VCardText:f["b"],VCheckbox:b["a"],VDataTable:p["a"],VDivider:g["a"],VIcon:y["a"],VSpacer:x["a"],VSwitch:S["a"],VToolbarTitle:w["b"],VTooltip:C["a"]});var _=a("7b21"),D=a("129e"),L=a("2ff3"),A=a("5372"),V={name:"generator",components:{shunttable:k,VWidget:D["a"],bustable:_["a"],MapWidget:L["a"],userInfo:A["a"]}},M=V,I=(a("6441"),a("a523")),T=a("0e8f"),B=a("a722"),O=Object(c["a"])(M,s,i,!1,null,null,null);e["default"]=O.exports;d()(O,{VContainer:I["a"],VFlex:T["a"],VIcon:y["a"],VLayout:B["a"],VSpacer:x["a"]})},cb03:function(t,e,a){},cd00:function(t,e,a){},cedc:function(t,e,a){},d206:function(t,e,a){"use strict";a("f546")},d4b7:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",{staticClass:"align-center layout px-4 pt-4 app--page-header",attrs:{row:""}},[a("div",{staticClass:"page-header-left"},[a("h3",{staticClass:"pr-3"},[t._v("Under Development")])]),a("v-breadcrumbs",{attrs:{divider:"-"}},[a("v-breadcrumbs-item",[a("v-icon",{attrs:{larg:""}},[t._v("mdi-lightbulb")])],1)],1),a("v-spacer"),a("userInfo")],1),a("v-container",{attrs:{"grid-list-xl":"","text-xs-center":"",fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg8:"",sm12:"",xs12:""}},[a("v-widget",{attrs:{title:"Cluster Map","content-bg":"white"}},[a("div",{attrs:{slot:"widget-content"},slot:"widget-content"},[a("IkMap",{ref:"map"})],1)])],1),a("v-flex",{attrs:{lg4:"",sm12:"",xs12:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("v-widget",{attrs:{title:"Settings","content-bg":"white"}},[a("div",{staticClass:"cardiv",attrs:{slot:"widget-content"},slot:"widget-content"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{lg10:"",sm10:"",xs10:""}},[a("v-text-field",{attrs:{label:"Number of Cluster"},model:{value:t.cluster,callback:function(e){t.cluster=e},expression:"cluster"}})],1),a("v-flex",{attrs:{lg2:"",sm2:"",xs2:""}},[a("div",{staticClass:"text-xs-center"},[a("div",[a("v-btn",{attrs:{color:"primary",fab:"",small:"",dark:""},on:{click:t.draw}},[a("v-icon",[t._v("edit")])],1)],1)])]),a("v-flex",{directives:[{name:"show",rawName:"v-show",value:t.inProgress,expression:"inProgress"}],attrs:{xs12:""}},[a("v-progress-linear",{attrs:{indeterminate:!0}})],1)],1)],1)])],1),a("v-flex",{attrs:{lg12:"",sm12:"",xs12:""}},[a("v-widget",{attrs:{title:"Tool2","content-bg":"white"}},[a("div",{staticClass:"cardiv",attrs:{slot:"widget-content"},slot:"widget-content"},[a("v-card",{attrs:{dark:"",color:"light-blue"}},[a("v-card-text",{staticClass:"px-0"},[t._v("Tool2")])],1)],1)])],1)],1)],1)],1)],1)],1)},i=[],n=(a("d81d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("linepop",{attrs:{visible:t.lineshowDialog,type:t.type,id:t.id,name:t.name,volt:t.volt},on:{close:function(e){t.lineshowDialog=!1}}}),a("subpop",{attrs:{visible:t.subshowDialog,children:t.children,type:t.type,id:t.id,name:t.name,volt:t.volt},on:{close:function(e){t.subshowDialog=!1}}}),a("subpop",{attrs:{visible:t.areashowDialog,type:t.type},on:{close:function(e){t.areashowDialog=!1}}}),a("div",{staticClass:"chart",attrs:{id:"main"}})],1)}),r=[],o=a("54f8"),l=a("0644"),c=a.n(l),u=(a("ac1f"),a("1276"),a("b0c0"),a("d3b7"),a("25f0"),a("a9e3"),a("6062"),a("3ca3"),a("ddb0"),a("caad"),a("2532"),a("b64b"),a("18a5"),a("ab8a")),d=a("65f4"),h={name:"IkMap",data:function(){return{chart:"",linedata:[],selectlinedata:[],subdata:[],subdetail:[],temp:[],temp2:[],busdetail:[],subshowDialog:!1,lineshowDialog:!1,areashowDialog:!1,children:{},type:"",id:"",name:"",volt:"",config:null,commands:[],case:{},numClusters:9,colorpicker:[],linethickness:[1,1],branchFromToCoord:[],polyLonLatData:[],FinalClustering:[],results:[],shapeNodeOrder:[],allCenterSSArray2:[],zoomRatio:1.2,initZoom:7,currentZoom:this.initZoom,defaultrenderCenter:[-99.9018,31.9686],renderCenter:[-99.9018,31.9686],anchor:0,arrlength:0,tieLines:[],nonTieLines:[],violatedBasins:[],zoomInFlag:[],zoomOutFlag:!1,projection:{},interval:null,originalSub:null}},methods:{initdraw:function(t){var e,a=this,s=this;this.chart.setOption({animation:!1,bmap:{center:this.renderCenter,zoom:this.initZoom,roam:!0,mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#044161"}},{featureType:"boundary",elementType:"geometry",stylers:{color:"#064f85"}},{featureType:"railway",elementType:"all",stylers:{visibility:"off"}},{featureType:"highway",elementType:"geometry",stylers:{color:"#004981",visibility:"off"}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#005b96",lightness:1,visibility:"off"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry",stylers:{color:"#004981"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#00508b"}},{featureType:"poi",elementType:"all",stylers:{visibility:"off"}},{featureType:"green",elementType:"all",stylers:{color:"#056197",visibility:"off"}},{featureType:"subway",elementType:"all",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"all",stylers:{visibility:"off"}},{featureType:"local",elementType:"all",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off"}},{featureType:"boundary",elementType:"geometry.fill",stylers:{color:"#029fd4"}},{featureType:"building",elementType:"all",stylers:{color:"#1a5787"}},{featureType:"label",elementType:"all",stylers:{visibility:"off"}}]}},series:[{id:"sub",type:"scatter",name:"sub",coordinateSystem:"bmap",large:!0,largeThreshold:800,symbol:"circle",symbolSize:6,showEffectOn:"emphasis",data:[],label:{color:"blue",show:!1,formatter:function(t){return t.data.name.split("_")[0]}},itemStyle:{color:"rgb(25, 0, 128)"}},{id:"lines",name:"lines",type:"lines",coordinateSystem:"bmap",progressive:50,progressiveThreshold:500,silent:!0,zlevel:3,effect:{show:!0,constantSpeed:10,symbol:"arrow",symbolSize:5,trailLength:0,color:"red",loop:!0},blendMode:"lighter",lineStyle:{width:1,color:"rgb(200, 40, 0)",opacity:1},emphasis:{lineStyle:{width:2,shadowColor:"rgba(144, 144, 255, 0.5)",shadowBlur:10}},data:[]},{id:"clusterShape",type:"custom",name:"clusterShape",coordinateSystem:"bmap",animation:!1,zlevel:4,renderItem:this.onrenderClusterShape,data:[]}]},!0);this.chart.on("bmapRoam",(function(){return a.onRoam()})),this.chart.on("click",(function(t){if("sub"==t.seriesName)s.type="Substation",s.name=t.name,s.id=t.data.id,s.volt="",s.children=s.subdetail[+t.data.id].Bus,s.subshowDialog=!0;else if("lines"==t.seriesName)s.type="Branch",s.name=t.name,s.id=t.data.id,s.volt=t.data.attributes.volt.toString()+"kV",s.lineshowDialog=!0;else if("clusterShape"==t.seriesName){e=t.value,s.zoomInFlag=[!0,e],s.renderCenter=[s.results[e].centroid[0],s.results[e].centroid[1]],s.type="Area "+t.value.toString();var a=s.chart.getOption();a.bmap[0].center=s.renderCenter,a.bmap[0].zoom=10,s.chart.setOption(a),s.onMiniCluster(e)}}))},getData:function(){var t=this.$store.state.casedetail;if(this.case=t,"dsmDictionary"==t.content.type){for(var e in t.content.Substation)this.subdata.push({id:e,name:t.content.Substation[e]["String.Name"],value:[t.content.Substation[e]["Double.Longitude"],t.content.Substation[e]["Double.Latitude"]],attributes:{clustergp:-1,clustercenter:!1,tielinenode:!1},bus:[]});for(var a in this.originalSub=c()(this.subdata),t.content.Branch)if(0==t.content.Branch[a]["Byte.Type"]){var s=a.split(",")[0],i=a.split(",")[1],n=[this.subdata[t.content.Bus[s]["Int.Sub Number"]-1].value,this.subdata[t.content.Bus[i]["Int.Sub Number"]-1].value];this.branchFromToCoord.push(n),this.linedata.push({id:a,name:this.subdata[t.content.Bus[s]["Int.Sub Number"]-1].name.split("_")[0]+"-"+this.subdata[t.content.Bus[i]["Int.Sub Number"]-1].name.split("_")[0],coords:n,count:1,attributes:{MVALimit:t.content.Branch[a]["Single.MVA Limit"],volt:t.content.Bus[s]["Single.Nominal kV"],tieline:!1}})}for(var r in this.subdetail=t.content.Substation,this.busdetail=t.content.Bus,this.subdetail)this.subdetail[r].Bus=[];for(var o in t.content.Gen)this.busdetail[o].Gen=t.content.Gen[o];for(var l in t.content.Load)this.busdetail[l].Load=t.content.Load[l];for(var u in t.content.Shunt)this.busdetail[u].Shunt=t.content.Shunt[u];for(var d in t.content.Bus)this.subdetail[t.content.Bus[d]["Int.Sub Number"]].Bus.push(this.busdetail[d])}},onDrawSub:function(t){var e=this.chart.getOption();e.series[0].data=t,this.chart.setOption(e)},onDrawLines:function(){this.chart.setOption({series:[{id:"sub",data:[]},{id:"lines",data:this.selectlinedata,color:"black"},{id:"clusterShape",name:"clusterShape",data:Array.apply(null,{length:this.numClusters}).map(Number.call,Number)}]})},onRoam:function(){this.currentZoom=this.chart.getOption().bmap[0].zoom},onCluster:function(){var t=[],e={};for(var s in this.case.content.Substation){var i=this.case.content.Substation[s]["Int.Number"],n=this.case.content.Substation[s]["Double.Longitude"],r=this.case.content.Substation[s]["Double.Latitude"];t.push([n,r]),e[n.toString()+","+r.toString()]=i}var o=a("d524");o.k(this.numClusters),o.iterations(100),o.data(t);var l,c,u,d,h,m,v=o.clusters();this.results=v;var f,b=[],p=[],g=a("030d"),y=999,x=-1;for(var S in v){for(var w in l=Math.cos(v[S].centroid[0])*Math.cos(v[S].centroid[1]),c=Math.sin(v[S].centroid[0])*Math.cos(v[S].centroid[1]),y=999,v[S].points)x+=1,u=Math.cos(v[S].points[w][0])*Math.cos(v[S].points[w][1]),d=Math.sin(v[S].points[w][0])*Math.cos(v[S].points[w][1]),f=g([l,c],[u,d]),f<y&&(y=f,h=w,m=x),Math.distance=this.FinalClustering.push([e[v[S].points[w][0].toString()+","+v[S].points[w][1].toString()],S,"notCenter"]);this.projection=e,p.push(m),b.push(h)}this.allCenterSSArray2=p;for(var C=0;C<this.numClusters;C++){var $=p[C];this.FinalClustering[$][2]="Center",this.subdata[this.FinalClustering[$][0]-1].attributes.clustercenter=!0}for(var k=0;k<this.numClusters;k++){var _=b[k];v[k].points[_][2]="Center"}var D,L,A,V=[],M=[];for(var I in this.case.content.Branch){var T=I.split(",")[0],B=I.split(",")[1],O=this.case.content.Bus[T]["Int.Sub Number"],j=this.case.content.Bus[B]["Int.Sub Number"];if(D=this.FinalClustering.map((function(t){return t[0]})).indexOf(O),-1!==D&&(L=this.FinalClustering[D][1]),D=this.FinalClustering.map((function(t){return t[0]})).indexOf(j),-1!==D&&(A=this.FinalClustering[D][1]),null!==L&null!==A)if(L==A){M.push([I,L,T,B]);this.subdata[O-1].value,this.subdata[j-1].value}else{V.push([I,L,A,T,B]);var N=[this.subdata[O-1].value,this.subdata[j-1].value];this.selectlinedata.push({id:I,name:this.subdata[O-1].name.split("_")[0]+"-"+this.subdata[j-1].name.split("_")[0],coords:N,count:1,attributes:{MVALimit:this.case.content.Branch[I]["Single.MVA Limit"],volt:this.case.content.Bus[T]["Single.Nominal kV"],tieline:!0},lineStyle:{opacity:1}}),this.subdata[O-1].attributes.tielinenode=!0,this.subdata[j-1].attributes.tielinenode=!0}}this.tieLines=V,this.nonTieLines=M;var G;for(var F in this.case.content.Substation){for(var P in[this.case.content.Substation[F]["Double.Longitude"],this.case.content.Substation[F]["Double.Latitude"]],v)for(var E in v[P].points)if(v[P].points[E][0]==this.case.content.Substation[F]["Double.Longitude"]&&v[P].points[E][1]==this.case.content.Substation[F]["Double.Latitude"]){G=P;break}this.subdata[F-1].attributes.clustergp=G}this.onobtainClusterLongLat()},onMiniCluster:function(t){var e,s=[];for(var i in this.results[t].points){e=this.projection[this.results[t].points[i][0].toString()+","+this.results[t].points[i][1].toString()];var n=this.case.content.Substation[e]["Double.Longitude"],r=this.case.content.Substation[e]["Double.Latitude"];s.push([n,r])}var o=[],l=a("d524");return l.k(this.numClusters),l.iterations(100),l.data(s),o=l.clusters(),o},Ongetsubstatcolor:function(t){return this.colorpicker[+t.data.attributes.clustergp]},onColorPick:function(){for(var t=0;t<this.numClusters;t++)this.colorpicker.push("rgba("+Math.round(255*Math.random()).toString()+","+Math.round(255*Math.random()).toString()+","+Math.round(255*Math.random()).toString()+", 0.6)")},Ongetsubstationsize:function(t,e){var a;return a=(e.data.attributes.clustercenter,10),a},ongetBoundaryDataPoints:function(t,e,a){var s,i,n,r=[],o=[];if(t.length>2){s=e[0][0],i=t[s][1],n=t[s][2],r.push([i,n]);for(var l=1;l<e.length;l++)s=e[l][0],i=t[s][1],n=t[s][2],r.push([i,n]);o=r}else{for(var c in t)i=t[c][1],n=t[c][2],r.push([i,n]);o=r}return o},onarrayDifference:function(t,e){var a,s=new Set(t),i=Object(o["a"])(e);try{for(i.s();!(a=i.n()).done;){var n=a.value;s.delete(n)}}catch(r){i.e(r)}finally{i.f()}return s},sortFunction:function(t,e){return e[0]===t[0]?0:e[0]<t[0]?-1:1},onobtainClusterLongLat:function(){for(var t,e,s,i=-1,n=[],r=[],o=[],l=[],c=a("1a3f"),u=0;u<this.numClusters;u++){var d=u;for(var h in n=[],r=[],this.FinalClustering){if(i+=1,i>this.FinalClustering.length-1)break;if(this.FinalClustering[i][1]!=d.toString()){i-=1;break}t=this.FinalClustering[i][0]-1,e=this.subdata[t].value[0],s=this.subdata[t].value[1],n.push([t,e,s]),r.push([e,s])}l.push(n),o=this.ongetBoundaryDataPoints(n,c(r),u),this.shapeNodeOrder.push(o)}},onrenderClusterShape:function(t,e){var a=t.dataIndex,s=1,i=this.shapeNodeOrder[a];1==this.zoomInFlag[0]&&a==this.zoomInFlag[1]&&(s=.6);for(var n=[],r="hsla(56, 50%, 50%, 1)",o=0;o<i.length;o++)n.push(e.coord(i[o]));return this.violatedBasins.includes(a)&&(r="hsla(15, 50%, 50%, "+s.toString()+")"),{type:"polygon",shape:{points:echarts.graphic.clipPointsByRect(n,{x:t.coordSys.x,y:t.coordSys.y,width:t.coordSys.width,height:t.coordSys.height})},style:e.style({fill:r})}},onFindBranchSegment:function(){var t;for(var e in this.$store.state.fieldstore){if(this.arrlength=this.$store.state.fieldstore[e]["Field"].length,t=Object.keys(this.$store.state.casedetail.content[e]),"Branch"==e)break;this.anchor+=this.arrlength*t.length}},onMonitor:function(){var t,e,a,s=this.$store.state.data,i=-1,n=[];for(var r in this.$store.state.casedetail.content.Branch)i++,t=this.$store.state.casedetail.content.Branch[r]["Single.MVA Limit"],e=s[this.anchor+3+i*this.arrlength],a=this.tieLines.map((function(t){return t[0]})).indexOf(r),e>t&&(-1!=a?(n.push(+this.tieLines[a][1]),n.push(+this.tieLines[a][2])):(a=this.nonTieLines.map((function(t){return t[0]})).indexOf(r),n.push(+this.nonTieLines[a][1])));this.violatedBasins=n;var o=this.chart.getOption();this.chart.setOption(o)},redraw:function(t){var e=this;this.$nextTick((function(){e.interval&&clearInterval(e.interval),0!=t&&t?(e.reInitParameters(),e.numClusters=+t,e.onCluster(),e.onDrawLines(),e.interval=setInterval((function(){e.onMonitor()}),5e3)):e.onDrawFullTopo()}))},reInitParameters:function(){this.FinalClustering=[],this.selectlinedata=[],this.shapeNodeOrder=[]},onDrawFullTopo:function(){this.chart.setOption({series:[{id:"sub",data:this.originalSub},{id:"lines",data:this.linedata},{id:"clusterShape",data:[]}]})}},mounted:function(){this.chart=echarts.init(document.getElementById("main")),this.onColorPick(),this.getData(),this.onFindBranchSegment(),this.initdraw("main"),this.onDrawFullTopo()},components:{linepop:u["default"],subpop:d["default"]}},m=h,v=(a("a901"),a("2877")),f=Object(v["a"])(m,n,r,!1,null,"c875c8a6",null),b=f.exports,p=a("129e"),g=a("5372"),y={name:"generator",data:function(){return{cluster:null,inProgress:!1}},components:{IkMap:b,VWidget:p["a"],userInfo:g["a"]},methods:{draw:function(){var t=this;this.$nextTick((function(){t.$refs.map.redraw(t.cluster)}))}}},x=y,S=(a("463b"),a("6544")),w=a.n(S),C=a("2bc5"),$=a("f625"),k=a("8336"),_=a("b0afa"),D=a("99d9"),L=a("a523"),A=a("0e8f"),V=a("132d"),M=a("a722"),I=a("8e36"),T=a("2fa4"),B=a("8654"),O=Object(v["a"])(x,s,i,!1,null,null,null);e["default"]=O.exports;w()(O,{VBreadcrumbs:C["a"],VBreadcrumbsItem:$["a"],VBtn:k["a"],VCard:_["a"],VCardText:D["b"],VContainer:L["a"],VFlex:A["a"],VIcon:V["a"],VLayout:M["a"],VProgressLinear:I["a"],VSpacer:T["a"],VTextField:B["a"]})},e041:function(t,e,a){},e431:function(t,e,a){},f1bf:function(t,e,a){"use strict";a("6bd9")},f546:function(t,e,a){},f596:function(t,e,a){},f717:function(t,e,a){"use strict";a("5f48")},f820:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"about"},[a("h1",[t._v("This is an about page")])])}],n=a("2877"),r={},o=Object(n["a"])(r,s,i,!1,null,null,null);e["default"]=o.exports},f9e5:function(t,e,a){"use strict";a("151e")},fda6:function(t,e,a){"use strict";a("5eb5")}}]);